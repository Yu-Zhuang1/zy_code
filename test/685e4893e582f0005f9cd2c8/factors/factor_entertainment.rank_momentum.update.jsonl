{"role": "metadata", "agent_type": "TaskExecutionAgent", "available_tools": ["google_search", "exa_search", "read_webpage", "read_pdf_tables", "read_image", "get_stock_data", "calculate_technical_indicators", "get_today_date", "wind_cache_lookup", "wind_wsd", "wind_wss", "wind_wses", "wind_tdays", "wind_tdaysoffset", "wind_tdayscount", "search_windpy_doc", "search_windfx_code", "get_wind_options_help", "execute_python_code", "llm_inference", "browser_navigate", "browser_snapshot", "browser_click", "browser_fill", "browser_screenshot", "browser_wait_for_selector", "browser_evaluate", "browser_close", "fetch_ranking_data"], "max_iterations": null, "timestamp": "2026-02-04T14:03:27", "agent_role": "factor"}
{"role": "system", "content": "# Factor Agent: entertainment.rank_momentum.update\nRole: Tracks short-horizon chart drift to spot fast risers that can displace incumbents within the next update cycle.\nWhen to use: Use when you need early detection of titles accelerating in ranks 5–12 and likely to break into higher ranks soon.\n\n## Purpose\n- Execute the assigned factor subtask and return IR (evidence, claims, signals, confidence).\n- Use the factor skill as the method guide; the subtask scope from the Expert Agent takes priority.\n- Retrieve reliable, factual, and verifiable information using available tools.\n- Do NOT answer the full user task or follow any final-answer formatting (e.g., boxed outputs).\n- Prefer read_webpage for PDF links; use browser_snapshot only when visual/interactive content is required.\n- Stop early once evidence is sufficient for stable IR; if additional data is low-cost and high-signal, gather more.\n\n## Tool Usage Tips\n- For PDF tables, prefer `read_pdf_tables` to preserve row/column alignment.\n- For screenshots or figures, use `read_image` with mode=ocr or a specific question.\n- For static text pages, use `read_webpage`; use browser tools only for dynamic/interactive content.\n- For dynamic pages, extract key fields into a small structured table (JSON/CSV) and reference the artifact path; avoid pasting raw HTML into evidence.\n- If you parse data, persist a compact JSON/CSV artifact (via execute_python_code when needed) and cite the artifact path in evidence.\n- Always cite source/time and keep evidence concise and verifiable.\n- Deduplicate same outlet/domain; prefer 3-5 sources (hard cap: 8).\n- Return summary + key facts; never paste raw HTML/DOM/text dumps into evidence or claims.\n\n## Flexibility When Data Is Missing\n- If required data cannot be obtained within the execution budget, you may relax the skill requirements\n  (e.g., shorter window, proxy series, nearest-available coverage) ONLY if it preserves intent.\n- Explicitly label any relaxation in evidence/claims/notes, set coverage accordingly, and lower confidence.\n- Do NOT fabricate data.\n\n## Factor Skill Summary\n- Domain: entertainment\n- Factor class: rank_momentum\n- Role: update\n\n## Signal Specs\n- rank_change_24h_for_rank5_12 (raw, raw_delta, required) - For titles in ranks 5–12 at {time_anchor}, compute prior_rank_24h minus current_rank in positions.\n- rank_change_7d_for_rank5_12 (raw, raw_delta, required) - For titles in ranks 5–12 at {time_anchor}, compute prior_rank_7d minus current_rank in positions.\n- want_to_watch_count_growth_24h (raw, raw_delta, required) - For titles in ranks 5–12 at {time_anchor}, compute current minus 24h-ago want_to_watch in people.\n- momentum_score ([-1,1], delta, required) - Combine standardized rank deltas and want_to_watch growth into a bounded momentum score per title.\n\n## Operational Definition\n- Per title present in ranks 5–12 at {time_anchor}, compute rank deltas vs ~24h and ~7d and want_to_watch delta vs ~24h, then output momentum_score in [-1,1].\n\n## Data Requirements\n- Sources:\n  - provider_chart_api\n  - provider_metrics_api\n  - provider_csv_exports\n  - provider_pdf_tables\n  - provider_static_html_pages\n- Requirements:\n  - Use API or CSV snapshots with fetch timestamps and stable title_id when available.\n  - If HTML is used, fetch with clean_content=true and cap max_length to limit noise.\n  - Avoid JS bundles and dynamic clients; prefer server-rendered pages and direct files.\n  - Store raw payloads and parsed tables for each snapshot to enable replay and audits.\n  - Align snapshots to the same timezone and rank definition used by the provider.\n- Time window: {time_anchor} and before\n\n## Computation Method\n- Method: Fetch chart+metrics at {time_anchor}, -24h, -7d; join by title_id; rank_delta=prior_rank-current_rank; growth=current_count-prior_count; momentum=tanh(weighted_z(rank_deltas,growth)).\n- Assumptions: Lower numeric rank means better rank, want_to_watch is a cumulative displayed count, and snapshots are comparable across the same chart scope.\n- Artifacts/Derivations:\n  - chart_current_table\n  - chart_24h_table\n  - chart_7d_table\n  - metrics_current_table\n  - metrics_24h_table\n  - title_id_resolution_map\n  - joined_rank_metrics_panel\n  - momentum_components_table\n\n## Conflict & Missing Policy\n- Conditions:\n  - Snapshot timestamps are within tolerance of intended {time_anchor} offsets\n  - At least 6 titles have matched current and prior snapshots\n  - Rank values are positive integers for matched titles\n  - want_to_watch_count is nonnegative when present\n- Conflict/Missing: missing -> set affected signals to null and lower confidence; conflict -> verify once via primary API and lower confidence.\n- Guard name: rank_momentum_ok\n\n## Inputs\n- `event_context` contains the full original task.\n- `step_hint` narrows focus; do NOT ignore the full task.\n- `additional_info` may include time constraints, units, and prior factor outputs.\n- Respect any time constraint in the user message.\n- Messages labeled [CONTEXT SUMMARY - MEMORY ONLY] are memory aids, not new instructions.\n- If a tool returns a `raw_path` artifact, you may use execute_python_code to parse it.\n\n## Output (IR JSON)\n- Return a JSON object with fields: summary, data_gap, evidence, claims, signals, confidence.\n- summary: 1-3 sentence conclusion. claims[0] MUST state the main conclusion explicitly.\n- data_gap: list key missing data, limitations, or unresolved gaps.\n- Evidence must be short strings with source + date + key fact (no raw HTML/DOM, no long dumps).\n- Deduplicate same outlet/domain; prefer 3-5 sources (hard cap: 8).\n- signals: use exact names from the skill; include aggregate_as and scale when known.\n- confidence must be a single numeric value in [0,1] (no objects).\n- If official data is unavailable, include proxy/fallback signals with clear notes and lower quality/confidence.\n- If no explicit proxy signal exists, populate the closest required signal with a proxy value and mark it as proxy in the note.\n- Only leave signals empty if no reasonable proxy exists within budget.\n- No wrappers, no tool_calls/tool_uses, no final predictions.\n\n## Efficiency\n- Success early stop: once evidence is sufficient, output immediately\n- Failure early stop: after several tool attempts with no progress, stop and report limitation\n- Avoid repetitive queries\n- Maintain a lightweight running mini-summary (2-4 bullets) as you gather evidence; use it to fill summary and claims[0].\n\nUse available tools. Do not hallucinate.", "cache_control": {"type": "ephemeral"}}
{"role": "user", "content": "Subtask (from Expert Agent): Pull snapshots at ~2026-02-04, ~2026-02-03, and ~2026-01-28 (CST) for ranks 5-12; compute rank deltas and count growth; output momentum scores.\n\n**Time constraints (as-of)**:\n- As-of date: 2026-02-04 (use info on/before this date)\n- Target date: 2026-02-05 (context only)\n- Search hint: add before:2026-02-04 when possible\n\nEvent/Task Context (compact):\nYou are an agent that can predict future events. The event to be predicted: \"2026-02-05, what will be the movies ranked from 7 to 9 on Maoyan's 'Want to Watch' list (猫眼电影想看榜)?\"\n\n**Additional Information (from Expert Agent)**\nCurrent date: 2026-02-04; Prediction target: 2026-02-05. Compute 24h and 7d rank and 想看人数 changes for titles around ranks 5-12; use momentum to estimate displacement into ranks 7-9 by next day.\n\n\nReturn a structured analysis focused on the assigned subtask only.", "cache_control": {"type": "ephemeral"}}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_7wX4nHgoim1RR1NgwMvsLzK5", "function": {"arguments": "{\"website\":\"maoyan_want\",\"extract\":true,\"url\":null}", "name": "fetch_ranking_data"}, "type": "function", "index": 0}, {"id": "call_SBh7hXDXvMZVJ1DYuD7Q0R7U", "function": {"arguments": "{\"q\":\"猫眼 电影 想看榜 2026年2月3日 前12\",\"gl\":\"cn\",\"hl\":\"zh-CN\",\"location\":\"China\",\"num\":10,\"tbs\":\"qdr:y\",\"page\":1}", "name": "google_search"}, "type": "function", "index": 1}, {"id": "call_OthZrH59xm7SouFgeunO1xSb", "function": {"arguments": "{\"q\":\"猫眼电影想看榜 2026年1月28日 前12\",\"gl\":\"cn\",\"hl\":\"zh-CN\",\"location\":\"China\",\"num\":10,\"tbs\":\"qdr:y\",\"page\":1}", "name": "google_search"}, "type": "function", "index": 2}, {"id": "call_AEzBIt9vQaiJ9NrC8SWVEwQb", "function": {"arguments": "{\"q\":\"site:maoyan.com 想看榜 API ranklist\",\"gl\":\"cn\",\"hl\":\"zh-CN\",\"location\":\"China\",\"num\":10,\"tbs\":\"qdr:y\",\"page\":1}", "name": "google_search"}, "type": "function", "index": 3}]}
{"role": "tool", "tool_call_id": "call_OthZrH59xm7SouFgeunO1xSb", "name": "google_search", "content": "Successful tool call result 2 with tool google_search: {\"success\": true, \"data\": {\"summary\": \"* 截至2026年1月28日，猫眼专业版显示已定档的国产影片共6部，包括《飞驰人生3》《惊蛰无声》《镖人：风起大漠》《熊猫计划之部落奇遇记》《星河入梦》《熊出没·年年有熊》（Source: https://finance.sina.com.cn/stock/stockzmt/2026-02-03/doc-inhknttq7502006.shtml）。  \\n* 搜索结果未提供2026年1月28日猫眼电影“想看榜”前12名的具体影片排名数据，仅提及上述6部定档国产片，无完整榜单信息（Source: https://finance.sina.com.cn/stock/stockzmt/2026-02-03/doc-inhknttq7502006.shtml）。\", \"urls\": [\"https://finance.sina.com.cn/roll/2026-01-19/doc-inhhvsfv6933630.shtml\", \"https://www.shobserver.com/staticsg/res/html/web/newsDetail.html?id=1046149&sid=300\", \"https://www.news.cn/politics/20251231/56ccd503d6e24b239d028c6bc88e1347/c.html\", \"https://www.douyin.com/search/%E6%9C%80%E6%96%B0%E7%8C%AB%E7%9C%BC%E7%94%B5%E5%BD%B1%E7%A5%A8%E6%88%BF%E6%8E%92%E5%90%8D\", \"https://zh.wikipedia.org/wiki/%E4%B8%AD%E5%9B%BD%E5%86%85%E5%9C%B0%E6%9C%80%E9%AB%98%E7%94%B5%E5%BD%B1%E7%A5%A8%E6%88%BF%E6%94%B6%E5%85%A5%E5%88%97%E8%A1%A8\", \"https://www.facebook.com/ibinmusic/posts/%E6%96%B0%E7%9A%84%E4%B8%80%E5%B9%B4%E6%83%B3%E9%99%AA%E4%BD%A0%E8%B5%B0%E9%81%8E%E7%AC%AC%E4%B8%80%E6%AE%B5%E9%A3%9B%E8%A1%8C%E5%8A%89%E8%8B%A5%E8%8B%B1%E9%A3%9B%E8%A1%8C%E6%97%A52025-%E5%B7%A1%E8%BF%B4%E6%BC%94%E5%94%B1%E6%9C%83-%E5%8C%97%E4%BA%AC%E7%AB%99%E5%8A%A0%E5%A0%B4%E5%85%AC%E5%B8%83-%E5%8E%9F%E5%A0%B4%E6%AC%A1%E5%B7%B2%E5%AE%8C%E5%94%AE-2025-%E5%B9%B4-12-%E6%9C%88-27-%E6%97%A5%E5%85%AD-2025-%E5%B9%B4-12-%E6%9C%88-28-%E6%97%A5/1395513268798469/\", \"https://finance.sina.com.cn/stock/stockzmt/2026-02-03/doc-inhknttq7502006.shtml\", \"https://www.douyin.com/search/%E7%8C%AB%E7%9C%BC%E7%A5%A8%E6%88%BF%E5%AE%9E%E6%97%B6%E6%8E%92%E8%A1%8C%E6%A6%9C2025\", \"https://www.behance.net/search/projects/RapidBit%20Exchange%20Review\", \"https://zh.wikipedia.org/zh-hans/%E9%AC%BC%E6%BB%85%E4%B9%8B%E5%88%83%E5%8A%87%E5%A0%B4%E7%89%88_%E7%84%A1%E9%99%90%E5%9F%8E%E7%AF%87\"]}}"}
{"role": "tool", "tool_call_id": "call_SBh7hXDXvMZVJ1DYuD7Q0R7U", "name": "google_search", "content": "Successful tool call result 1 with tool google_search: {\"success\": true, \"data\": {\"summary\": \"No relevant information found in results.\", \"urls\": []}}"}
{"role": "tool", "tool_call_id": "call_AEzBIt9vQaiJ9NrC8SWVEwQb", "name": "google_search", "content": "Successful tool call result 3 with tool google_search: {\"success\": true, \"data\": {\"summary\": \"No relevant information found in results.\", \"urls\": []}}"}
{"role": "tool", "tool_call_id": "call_7wX4nHgoim1RR1NgwMvsLzK5", "name": "fetch_ranking_data", "content": "Successful tool call result 0 with tool fetch_ranking_data: {\"success\": true, \"website\": \"maoyan_want\", \"name\": \"猫眼电影 想看榜\", \"url\": \"https://m.maoyan.com/asgard/board\", \"category\": \"entertainment\", \"timestamp\": \"2026-02-04T22:03:38.920523\", \"attempted_urls\": [\"https://www.maoyan.com/board/6\", \"https://m.maoyan.com/board/6\", \"https://m.maoyan.com/asgard/board\"], \"ranking\": [{\"rank\": 47, \"name\": \"2 万新增想看\", \"metrics\": {}}, {\"rank\": 20, \"name\": \"1 万新增想看\", \"metrics\": {}}, {\"rank\": 13, \"name\": \"7 万新增想看\", \"metrics\": {}}, {\"rank\": 7, \"name\": \"3 万新增想看\", \"metrics\": {}}, {\"rank\": 3, \"name\": \"7 万新增想看\", \"metrics\": {}}, {\"rank\": 2, \"name\": \"4 万新增想看\", \"metrics\": {}}, {\"rank\": 1, \"name\": \"0\", \"metrics\": {}}], \"ranking_count\": 7}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_ySXyJmsnt4DTuqxKjmk4Mchf", "function": {"arguments": "{\"url\":\"https://m.maoyan.com/board/6\",\"clean_content\":false,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "read_webpage"}, "type": "function", "index": 0}, {"id": "call_ty4iMhaAsJJbMdLGnrjsrauJ", "function": {"arguments": "{\"url\":\"https://www.maoyan.com/board/6\",\"clean_content\":false,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "read_webpage"}, "type": "function", "index": 1}, {"id": "call_VooVZbrXwO1Qh1MZrlkz3lab", "function": {"arguments": "{\"url\":\"https://m.maoyan.com/asgard/board/6\",\"clean_content\":false,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "read_webpage"}, "type": "function", "index": 2}, {"id": "call_aQIC2oUCI25IugwVrrwx0kYb", "function": {"arguments": "{\"query\":\"m.maoyan.com 想看榜 接口 boardType=6 ajax\",\"num_results\":5,\"search_type\":\"auto\",\"start_published_date\":null,\"end_published_date\":\"2026-02-04T23:59:59.999Z\",\"include_domains\":null,\"exclude_domains\":null,\"category\":null,\"include_text\":true,\"include_summary\":false}", "name": "exa_search"}, "type": "function", "index": 3}]}
{"role": "tool", "tool_call_id": "call_aQIC2oUCI25IugwVrrwx0kYb", "name": "exa_search", "content": "Successful tool call result 3 with tool exa_search: {\"success\": true, \"data\": {\"summary\": \"* The provided search results do not contain specific information about the `m.maoyan.com 想看榜` interface or its AJAX endpoint with `boardType=6`. While one result discusses crawling猫眼电影 data via `piaofang.maoyan.com/rankings/year` and others cover general web scraping techniques for猫眼 (e.g., extracting热映电影 data via BeautifulSoup, PyQuery, or XPath), none reference the exact URL, API endpoint, or parameter structure for the “想看榜” feature on the mobile domain `m.maoyan.com` (Source: https://github.com/wz289494/crawl_maoyan_films, https://www.cnblogs.com/qyly/p/18454463, https://stackoverflow.com/questions/73371323/get-data-from-javascript-generated-table, https://stackoverflow.com/questions/29024324/ajax-pagination-with-jquery-php-xml-api, https://stackoverflow.com/questions/29063550/pagination-with-jquery-ajax).\", \"urls\": [\"https://github.com/wz289494/crawl_maoyan_films\", \"https://www.cnblogs.com/qyly/p/18454463\", \"https://stackoverflow.com/questions/73371323/get-data-from-javascript-generated-table\", \"https://stackoverflow.com/questions/29024324/ajax-pagination-with-jquery-php-xml-api\", \"https://stackoverflow.com/questions/29063550/pagination-with-jquery-ajax\"]}}"}
{"role": "tool", "tool_call_id": "call_ySXyJmsnt4DTuqxKjmk4Mchf", "name": "read_webpage", "content": "Successful tool call result 0 with tool read_webpage: {\"success\": true, \"data\": {\"content\": \"猫眼“想看榜”数据（boardtype=6）于2026-02-04更新，展示“近期猫眼想看榜Top10”（主要为2026-02-17档期影片，含部分重映）。Top10及关键数据（总想看/本月新增）：1《飞驰人生3》721462/472341；2《惊蛰无声》230065/201576；3《熊出没·年年有熊》169943/137978；4《镖人：风起大漠》170849/134178；5《熊猫计划之部落奇遇记》287795/73916；6《重返·狼群》（2017片，2026-02-19重映）97711/37287；7《星河入梦》79584/33798；8《喜欢上“欠欠”的你》（2026-02-14）33819/24739；9《爱乐之城》（2017片，2026-02-14重映）212661/21983；10《蜘蛛侠：崭新之日》（2026）32739/14332。前三新增想看均超13万，榜首增量与总量显著领先。\", \"url\": \"https://m.maoyan.com/board/6\", \"raw_path\": \"log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140406_3c41b731c2.html\", \"raw_length\": 76210}}"}
{"role": "tool", "tool_call_id": "call_VooVZbrXwO1Qh1MZrlkz3lab", "name": "read_webpage", "content": "Successful tool call result 2 with tool read_webpage: {\"success\": true, \"data\": {\"content\": \"页面为“猫眼想看榜”，含兼容快应用的UA关键字去除逻辑，并接入灵犀埋点、百度统计与Google gtag。榜单数据：2026-02-04更新，内容为“近期猫眼想看榜Top10”。Top10依次为：1《飞驰人生3》(2026-02-17)总想看721,462，本月+472,341；2《惊蛰无声》(2026-02-17)230,065，+201,576；3《熊出没·年年有熊》(2026-02-17)169,943，+137,978；4《镖人：风起大漠》(2026-02-17)170,849，+134,178；5《熊猫计划之部落奇遇记》(2026-02-17)287,795，+73,916；6《重返·狼群》(2017-06-16，2026-02-19重映)97,711，+37,287；7《星河入梦》(2026-02-17)79,584，+33,798；8《喜欢上“欠欠”的你》(2026-02-14)33,819，+24,739；9《爱乐之城》(2017-02-14，2026-02-14重映)212,661，+21,983；10《蜘蛛侠：崭新之日》(2026)32,739，+14,332。结论：榜首《飞驰人生3》热度遥遥领先，多数上榜影片集中在2026年2月中旬上映/重映。\", \"url\": \"https://m.maoyan.com/asgard/board/6\", \"raw_path\": \"log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140408_f49b9157d3.html\", \"raw_length\": 76210}}"}
{"role": "tool", "tool_call_id": "call_ty4iMhaAsJJbMdLGnrjsrauJ", "name": "read_webpage", "content": "Successful tool call result 1 with tool read_webpage: {\"success\": true, \"data\": {\"content\": \"猫眼电影“最受期待榜”（深圳页），2026-02-04更新。榜单规则：统计“昨日国内待映影片”，按此前30天“想看数总量”从高到低取前50名，每天上午10点更新，数据源自“猫眼电影库”。本页展示前10名及上映信息：1《飞驰人生3》(2026-02-17，沈腾/尹正/黄景瑜)；2《惊蛰无声》(2026-02-17，易烊千玺/朱一龙/宋佳)；3《熊出没·年年有熊》(2026-02-17)；4《镖人：风起大漠》(2026-02-17，吴京/谢霆锋/于适)；5《熊猫计划之部落奇遇记》(2026-02-17，成龙/马丽等)；6《重返·狼群》(2017-06-16)；7《星河入梦》(2026-02-17，王鹤棣/宋茜/祖峰)；8《喜欢上“欠欠”的你》(2026-02-14，秦霄贤/王影璐/陈昊明)；9《爱乐之城》(2017-02-14)；10《蜘蛛侠：崭新之日》(2026，汤姆·赫兰德/萨迪·辛克/小罗伯特·唐尼)。页面同时给出“本月新增想看/总想看”数据（数值在文本中因字体编码不可读）。\", \"url\": \"https://www.maoyan.com/board/6\", \"raw_path\": \"log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140409_4d494bf129.html\", \"raw_length\": 25201}}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_Hc3NiyJ3u7gFPgkZVRyltVKB", "function": {"arguments": "{\"code\":\"import re, json, os, pandas as pd, pathlib\\npaths = [\\n'log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140406_3c41b731c2.html',\\n'log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140408_f49b9157d3.html',\\n'log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140409_4d494bf129.html'\\n]\\nfor p in paths:\\n    if os.path.exists(p):\\n        txt=open(p,'rb').read().decode('utf-8','ignore')\\n        print('\\\\n==',p,'len',len(txt))\\n        # find potential json endpoints\\n        for pat in [r'https?://[^\\\\\\\"\\\\']+ajax[^\\\\\\\"\\\\']+', r'/ajax/[^\\\\\\\"\\\\']+', r'boardtype=\\\\d+', r'boardType\\\\\\\":\\\\d+', r'api[^\\\\\\\"\\\\']+']:\\n            pass\\n        hits=set(re.findall(r'(https?://[^\\\\s\\\\\\\"\\\\']+(?:ajax|asgard)[^\\\\s\\\\\\\"\\\\']+)', txt))\\n        if hits:\\n            print('url hits', list(hits)[:10])\\n        hits2=set(re.findall(r'(/ajax/[^\\\\s\\\\\\\"\\\\']+)', txt))\\n        if hits2:\\n            print('ajax path hits', list(hits2)[:10])\\n        hits3=set(re.findall(r'boardtype\\\\s*=\\\\s*(\\\\d+)', txt, flags=re.I))\\n        if hits3:\\n            print('boardtype', hits3)\\n        # script contains JSON?\\n        m=re.search(r'window\\\\.__INITIAL_STATE__\\\\s*=\\\\s*({.*?})\\\\s*;\\\\s*</script>', txt, flags=re.S)\\n        print('initial_state', bool(m))\\n        if m:\\n            print('initial_state size', len(m.group(1)))\\n        # search for 'want' 'wish'\\n        for key in ['board/','asgard/board','mostExpected','most-wanted','wish','want']:\\n            if key in txt:\\n                print('contains', key)\\n        # look for json embedded as __NEXT_DATA__ or etc\\n        m2=re.search(r'__NEXT_DATA__\\\\s*=\\\\s*({.*?})\\\\s*</script>', txt, flags=re.S)\\n        print('__NEXT_DATA__', bool(m2))\\n        if m2:\\n            print('next size', len(m2.group(1)))\\n\\nprint('done')\"}", "name": "execute_python_code"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_Hc3NiyJ3u7gFPgkZVRyltVKB", "name": "execute_python_code", "content": "Successful tool call result 0 with tool execute_python_code: {\"success\": true, \"output\": \"\\n== log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140406_3c41b731c2.html len 76210\\nurl hits ['https://m.maoyan.com/asgard/movie/1581746', 'https://m.maoyan.com/asgard/movie/1491711', 'https://m.maoyan.com/asgard/movie/1606500', 'https://m.maoyan.com/asgard/movie/1198213', 'https://m.maoyan.com/asgard/movie/1439044', 'https://m.maoyan.com/asgard/movie/1482041', 'https://m.maoyan.com/asgard/movie/12123', 'https://m.maoyan.com/asgard/movie/1529735', 'https://m.maoyan.com/asgard/movie/1443455', 'https://m.maoyan.com/asgard/movie/1487857']\\ninitial_state False\\ncontains board/\\ncontains asgard/board\\ncontains wish\\n__NEXT_DATA__ False\\n\\n== log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140408_f49b9157d3.html len 76210\\nurl hits ['https://m.maoyan.com/asgard/movie/1581746', 'https://m.maoyan.com/asgard/movie/1491711', 'https://m.maoyan.com/asgard/movie/1606500', 'https://m.maoyan.com/asgard/movie/1198213', 'https://m.maoyan.com/asgard/movie/1439044', 'https://m.maoyan.com/asgard/movie/1482041', 'https://m.maoyan.com/asgard/movie/12123', 'https://m.maoyan.com/asgard/movie/1529735', 'https://m.maoyan.com/asgard/movie/1443455', 'https://m.maoyan.com/asgard/movie/1487857']\\ninitial_state False\\ncontains board/\\ncontains asgard/board\\ncontains wish\\n__NEXT_DATA__ False\\n\\n== log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140409_4d494bf129.html len 25201\\ninitial_state False\\ncontains board/\\ncontains wish\\n__NEXT_DATA__ False\\ndone\\n\", \"error\": \"\", \"variables\": {}, \"artifacts\": [], \"artifact_root\": \"/Users/weichy/code/galaxy-agent/log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/code\"}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_hQscfcc701s82XvCTUqxsGG9", "function": {"arguments": "{\"q\":\"site:web.archive.org m.maoyan.com/board/6 2026-02-03\",\"gl\":\"us\",\"hl\":\"en\",\"location\":\"United States\",\"num\":10,\"tbs\":\"\" ,\"page\":1}", "name": "google_search"}, "type": "function", "index": 0}, {"id": "call_RBY7pRvOSaUV2apQZwMJHBnD", "function": {"arguments": "{\"q\":\"site:web.archive.org m.maoyan.com/board/6 2026-01-28\",\"gl\":\"us\",\"hl\":\"en\",\"location\":\"United States\",\"num\":10,\"tbs\":\"\",\"page\":1}", "name": "google_search"}, "type": "function", "index": 1}, {"id": "call_tkKzy1qauYEJgFIQnvsqfQQi", "function": {"arguments": "{\"query\":\"web.archive.org m.maoyan.com/board/6 2026-02-03\",\"num_results\":5,\"search_type\":\"auto\",\"start_published_date\":null,\"end_published_date\":\"2026-02-04T23:59:59.999Z\",\"include_domains\":[\"web.archive.org\"],\"exclude_domains\":null,\"category\":null,\"include_text\":false,\"include_summary\":false}", "name": "exa_search"}, "type": "function", "index": 2}, {"id": "call_5qgpsgCVxdQ5I4R6J5KWevIv", "function": {"arguments": "{\"query\":\"web.archive.org m.maoyan.com/board/6 2026-01-28\",\"num_results\":5,\"search_type\":\"auto\",\"start_published_date\":null,\"end_published_date\":\"2026-02-04T23:59:59.999Z\",\"include_domains\":[\"web.archive.org\"],\"exclude_domains\":null,\"category\":null,\"include_text\":false,\"include_summary\":false}", "name": "exa_search"}, "type": "function", "index": 3}]}
{"role": "tool", "tool_call_id": "call_tkKzy1qauYEJgFIQnvsqfQQi", "name": "exa_search", "content": "Successful tool call result 2 with tool exa_search: {\"success\": true, \"data\": {\"summary\": \"No relevant information found in results.\", \"urls\": [\"https://web.archive.org/web/20230703120941/www.maoyan.com/films/1475137\", \"https://web.archive.org/web/20180312034136/piaofang.maoyan.com/movie/1208122/wantindex\", \"https://web.archive.org/web/20200216170558/www.endata.com.cn/BoxOffice/BO/History/Movie/Alltimedomestic.html\", \"https://web.archive.org/web/20170215032925/cbooo.cn/m/654608\", \"https://web.archive.org/web/20201207220155/myanimelist.net/forum/?subboard=1\"]}}"}
{"role": "tool", "tool_call_id": "call_hQscfcc701s82XvCTUqxsGG9", "name": "google_search", "content": "Successful tool call result 0 with tool google_search: {\"success\": true, \"data\": {\"summary\": \"No relevant information found in results.\", \"urls\": []}}"}
{"role": "tool", "tool_call_id": "call_RBY7pRvOSaUV2apQZwMJHBnD", "name": "google_search", "content": "Successful tool call result 1 with tool google_search: {\"success\": true, \"data\": {\"summary\": \"No relevant information found in results.\", \"urls\": []}}"}
{"role": "tool", "tool_call_id": "call_5qgpsgCVxdQ5I4R6J5KWevIv", "name": "exa_search", "content": "Successful tool call result 3 with tool exa_search: {\"success\": true, \"data\": {\"summary\": \"No relevant information found in results.\", \"urls\": [\"https://web.archive.org/web/20230703120941/www.maoyan.com/films/1475137\", \"https://web.archive.org/web/20180312034136/piaofang.maoyan.com/movie/1208122/wantindex\", \"https://web.archive.org/web/20200216170558/www.endata.com.cn/BoxOffice/BO/History/Movie/Alltimedomestic.html\", \"https://web.archive.org/web/20160302051735/www.boxofficemojo.com/\", \"https://web.archive.org/web/20171001031153/www.boxofficemojo.com/movies/?page=intl\"]}}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_Zhpd2aocosKsijwtE8AhQRen", "function": {"arguments": "{\"code\":\"import re, os\\np='log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140406_3c41b731c2.html'\\nhtml=open(p,'rb').read().decode('utf-8','ignore')\\n# find script src\\nscripts=re.findall(r'<script[^>]+src=\\\"([^\\\"]+)\\\"', html)\\nprint('scripts', len(scripts))\\nprint('\\\\n'.join(scripts[:20]))\\n# find any json endpoints containing board\\nendpoints=set(re.findall(r'(https?://[^\\\\s\\\\\\\"\\\\']*maoyan\\\\.com[^\\\\s\\\\\\\"\\\\']*(?:ajax|api|board)[^\\\\s\\\\\\\"\\\\']*)', html))\\nprint('endpoints count', len(endpoints))\\nfor u in list(endpoints)[:50]:\\n    if 'board' in u or 'ajax' in u or 'api' in u:\\n        print(u)\\n# find /ajax endpoints explicitly\\npaths=set(re.findall(r'(/ajax/[^\\\\s\\\\\\\"\\\\']+)', html))\\nprint('ajax paths', len(paths), list(paths)[:20])\\n# find asgard endpoints\\npaths2=set(re.findall(r'(/asgard/[^\\\\s\\\\\\\"\\\\']+)', html))\\nprint('asgard paths', len(paths2), list(paths2)[:30])\\n# look for 'boardType' or 'boardtype'\\nfor pat in ['boardType','boardtype','wish','want','mostExpected']:\\n    print(pat, html.lower().count(pat.lower()))\\n# extract movie id list\\nmovie_ids=re.findall(r'/asgard/movie/(\\\\d+)', html)\\nprint('movie_ids', len(movie_ids), movie_ids[:15])\\nprint('unique ids', len(set(movie_ids)))\\n# find any JSON blobs in page\\njson_like=re.findall(r'\\\\{\\\\\\\"[^\\\\n]{0,200}?\\\\\\\"\\\\}', html)\\nprint('json_like sample', json_like[:3])\\n# search for 'boardtype=6' occurrences\\nprint('boardtype=6 present', 'boardtype=6' in html.lower(), 'boardType=6' in html)\\n# search for 'mostExpected' resources\\nprint('contains /board/6', '/board/6' in html)\\n# Find any 'update' date\\nm=re.search(r'(\\\\d{4}-\\\\d{2}-\\\\d{2}).{0,20}更新', html)\\nprint('update date match', m.group(0) if m else None)\\n\"}", "name": "execute_python_code"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_Zhpd2aocosKsijwtE8AhQRen", "name": "execute_python_code", "content": "Successful tool call result 0 with tool execute_python_code: {\"success\": true, \"output\": \"scripts 9\\nhttps://www.googletagmanager.com/gtag/js?id=G-WN80P4PSY7\\n//s0.pipi.cn/festatic/asgard/resources/dll/dll_common-4cbe3d11.js\\n//s0.pipi.cn/festatic/asgard/resources/dll/dll_vendor-4cbe3d11.js\\n//www.dpfile.com/app/owl/static/owl_1.9.3.js\\nhttps://msp.meituan.net/h5guard/H5guard.js\\n//s0.pipi.cn/festatic/asgard/resources/pages/bangdan/vendors-782adc4b.chunk.js\\n//s0.pipi.cn/festatic/asgard/resources/pages/bangdan/detail-ea3d344c.js\\n//obj.pipi.cn/festatic/common/media/1661236970778-yao-0.0.10.js\\n//lx.meituan.net/lx.js\\nendpoints count 1\\nhttps://m.maoyan.com/asgard/board/6?$from=canary\\najax paths 0 []\\nasgard paths 58 ['/asgard/movie/1198213', '/asgard/movie/1490987', '/asgard/movie/1563473', '/asgard/movie/1529735', '/asgard/movie/247572', '/asgard/movie/1487857', '/asgard/movie/1545360', '/asgard/movie/1501767', '/asgard/movie/1552123', '/asgard/movie/12123', '/asgard/movie/1595625', '/asgard/movie/1545588', '/asgard/movie/1490393', '/asgard/movie/672275', '/asgard/movie/1522567', '/asgard/resources', '/asgard/resources/dll/dll_common-4cbe3d11.js', '/asgard/movie/1523850', '/asgard/movie/1490607', '/asgard/movie/1546367', '/asgard/movie/1581746', '/asgard/movie/338436', '/asgard/movie/1303013', '/asgard/movie/1606762', '/asgard/movie/1491711', '/asgard/resources/pages/bangdan/vendors-e0d2c7d6.css', '/asgard/movie/1543770', '/asgard/movie/1429503', '/asgard/movie/1439044', '/asgard/movie/1606500']\\nboardType 1\\nboardtype 1\\nwish 200\\nwant 1\\nmostExpected 0\\nmovie_ids 100 ['1565122', '1565122', '1563473', '1563473', '1581746', '1581746', '1501297', '1501297', '1548780', '1548780', '490367', '490367', '1523850', '1523850', '1443455']\\nunique ids 50\\njson_like sample ['{\\\"hasMore\\\":false,\\\"limit\\\":100,\\\"offset\\\":0,\\\"total\\\":50},\\\"shareHidden\\\":1,\\\"title\\\":\\\"猫眼想看榜\\\"}', '{\\\"title\\\":\\\"猫眼想看榜\\\",\\\"desc\\\":\\\"猫眼电影整理的《猫眼想看榜》很不错，全是好电影，再也不愁找不到好电影了。\\\",\\\"icon\\\":\\\"https://p0.meituan.net/movie/7d8c28eb414694df80a83c72d07c9e3633980.png\\\",\\\"link\\\":\\\"https://m.maoyan.com/asgard/board/6?$from=canary\\\"}', '{\\\"desc\\\":\\\"猫眼电影整理的《猫眼想看榜》很不错，全是好电影，再也不愁找不到好电影了。\\\",\\\"icon\\\":\\\"https://p0.meituan.net/movie/7d8c28eb414694df80a83c72d07c9e3633980.png\\\",\\\"link\\\":\\\"https://m.maoyan.com/asgard/board/6?$from=canary\\\"}']\\nboardtype=6 present False False\\ncontains /board/6 True\\nupdate date match 2026-02-04 已更新\\n\", \"error\": \"\", \"variables\": {}, \"artifacts\": [], \"artifact_root\": \"/Users/weichy/code/galaxy-agent/log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/code\"}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_ex01jkXDck8s5Lz4GeBy54ho", "function": {"arguments": "{\"url\":\"https://s0.pipi.cn/festatic/asgard/resources/pages/bangdan/detail-ea3d344c.js\",\"clean_content\":false,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "read_webpage"}, "type": "function", "index": 0}, {"id": "call_0VW49mu8WnOT0Nea3mZnZsKj", "function": {"arguments": "{\"url\":\"https://s0.pipi.cn/festatic/asgard/resources/pages/bangdan/vendors-782adc4b.chunk.js\",\"clean_content\":false,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "read_webpage"}, "type": "function", "index": 1}]}
{"role": "tool", "tool_call_id": "call_ex01jkXDck8s5Lz4GeBy54ho", "name": "read_webpage", "content": "Calling the tool read_webpage failed with error [tool_error] Failed to read webpage: Unsupported content-type: application/javascript"}
{"role": "tool", "tool_call_id": "call_0VW49mu8WnOT0Nea3mZnZsKj", "name": "read_webpage", "content": "Calling the tool read_webpage failed with error [tool_error] Failed to read webpage: Unsupported content-type: application/javascript"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_7nnYhSYp46oq2qhpNmWicp4N", "function": {"arguments": "{\"url\":\"https://s0.pipi.cn/festatic/asgard/resources/pages/bangdan/detail-ea3d344c.js\",\"wait_until\":\"load\"}", "name": "browser_navigate"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_7nnYhSYp46oq2qhpNmWicp4N", "name": "browser_navigate", "content": "Calling the tool browser_navigate failed with error [tool_error] Successfully navigated to https://s0.pipi.cn/festatic/asgard/resources/pages/bangdan/detail-ea3d344c.js"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_4rO17scu63c14PEwU5zkxVnl", "function": {"arguments": "{\"format\":\"text\",\"clean_content\":false,\"max_length\":200000,\"url\":null,\"wait_until\":\"load\",\"timeout_ms\":30000,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "browser_snapshot"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_4rO17scu63c14PEwU5zkxVnl", "name": "browser_snapshot", "content": "Successful tool call result 0 with tool browser_snapshot: {\"success\": true, \"url\": \"https://s0.pipi.cn/festatic/asgard/resources/pages/bangdan/detail-ea3d344c.js\", \"title\": \"\", \"format\": \"text\", \"content\": \"!function(e){function n(n){for(var o,a,c=n[0],u=n[1],s=n[2],f=0,p=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);for(l&&l(n);p.length;)p.shift()();return i.push.apply(i,s||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],o=!0,c=1;c<t.length;c++){var u=t[c];0!==r[u]&&(o=!1)}o&&(i.splice(n--,1),e=a(a.s=t[0]))}return e}var o={},r={34:0},i=[];function a(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise(function(n,o){t=r[e]=[n,o]});n.push(t[2]=o);var i,c=document.createElement(\\\"script\\\");c.charset=\\\"utf-8\\\",c.timeout=120,a.nc&&c.setAttribute(\\\"nonce\\\",a.nc),c.src=function(e){return a.p+\\\"\\\"+({22:\\\"js/rohr\\\"}[e]||e)+\\\"-\\\"+{22:\\\"7d2cb10e\\\"}[e]+\\\".chunk.js\\\"}(e);var u=new Error;i=function(n){c.onerror=c.onload=null,clearTimeout(s);var t=r[e];if(0!==t){if(t){var o=n&&(\\\"load\\\"===n.type?\\\"missing\\\":n.type),i=n&&n.target&&n.target.src;u.message=\\\"Loading chunk \\\"+e+\\\" failed.\\\\n(\\\"+o+\\\": \\\"+i+\\\")\\\",u.name=\\\"ChunkLoadError\\\",u.type=o,u.request=i,t[1](u)}r[e]=void 0}};var s=setTimeout(function(){i({type:\\\"timeout\\\",target:c})},12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(n)},a.m=e,a.c=o,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},a.r=function(e){\\\"undefined\\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\\"Module\\\"}),Object.defineProperty(e,\\\"__esModule\\\",{value:!0})},a.t=function(e,n){if(1&n&&(e=a(e)),8&n)return e;if(4&n&&\\\"object\\\"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,\\\"default\\\",{enumerable:!0,value:e}),2&n&&\\\"string\\\"!=typeof e)for(var o in e)a.d(t,o,function(n){return e[n]}.bind(null,o));return t},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,\\\"a\\\",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p=\\\"//s0.pipi.cn/festatic/asgard/resources/\\\",a.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=n,c=c.slice();for(var s=0;s<c.length;s++)n(c[s]);var l=u;i.push([1755,14]),t()}({0:function(e,n,t){e.exports=t(24)(116)},103:function(e,n,t){\\\"use strict\\\";var o=t(0),r=t.n(o),i=t(13),a={\\\"/movie/(\\\\\\\\d+)/preview.*videoId=(\\\\\\\\d+)\\\":{meituan:{version:' v > \\\"6.2\\\" ',schema:\\\"imeituan://www.meituan.com/movie_trailer?movieId=$1&videoId=$2\\\"}},\\\"/movie/(\\\\\\\\d+)/preview\\\":{meituan:{version:' v > \\\"6.2\\\" ',schema:\\\"imeituan://www.meituan.com/movie_trailer?movieId=$1\\\"}},\\\"/store/detail/(\\\\\\\\d+)\\\":{meituan:{version:' v < \\\"6.5\\\" ',schema:\\\"imeituan://www.meituan.com/deal/?did=$1\\\"},maoyan:{schema:\\\"meituanmovie://www.meituan.com/cartoon/detail?id=$1\\\"}},\\\"/#tmp=showtime&cinemaid=(\\\\\\\\d+)&nm=([\\\\\\\\s\\\\\\\\S]+)&poid=(\\\\\\\\d+)\\\":{meituan:{schema:\\\"imeituan://www.meituan.com/merchant?id=$3&channel=cinema&cinemaDeals=1\\\"},maoyan:{schema:\\\"meituanmovie://www.meituan.com/cinema?id=$1&nm=$2\\\"}},\\\"/#tmp=showtime&cinemaid=(\\\\\\\\d+)&movieid=(\\\\\\\\d+)&date=([\\\\\\\\s\\\\\\\\S]+)\\\":{maoyan:{schema:\\\"meituanmovie://www.meituan.com/cinema?id=$1&movieid=$2&date=$3\\\"}},\\\"/membercard/detail/\\\\\\\\d+\\\\\\\\?_v_=yes&lat=[0-9\\\\\\\\.]+&lng=[0-9\\\\\\\\.]+\\\":{meituan:{schema:\\\"imeituan://www.meituan.com/web?url=https://m.maoyan.com$0\\\"},maoyan:null},\\\"/membercard/allcard\\\\\\\\?_v_=yes&lat=[0-9\\\\\\\\.]+&lng=[0-9\\\\\\\\.]+\\\":{meituan:{schema:\\\"imeituan://www.meituan.com/web?url=https://m.maoyan.com$0\\\"},maoyan:null},\\\"/membercard/list\\\\\\\\?_v_=yes&lat=[0-9\\\\\\\\.]+&lng=[0-9\\\\\\\\.]+\\\":{meituan:{schema:\\\"imeituan://www.meituan.com/web?url=https://m.maoyan.com$0\\\"},maoyan:null},\\\"/membercard/voucher/(\\\\\\\\d+)\\\\\\\\?_v_=yes\\\":{meituan:{schema:\\\"imeituan://www.meituan.com/voucher/list\\\"},maoyan:{schema:\\\"meituanmovie://www.meituan.com/mine/voucher?uid=$1\\\"}},\\\"meituanmovie\\\\\\\\://www\\\\\\\\.meituan\\\\\\\\.com/movie\\\\\\\\?id=(\\\\\\\\d+)&nm=([\\\\\\\\s\\\\\\\\S]+)\\\":{moviepro:{schema:\\\"moviepro://www.meituan.com/web?url=https://piaofang.maoyan.com/movie/$1?_v_=yes\\\"}}},c=t(11),u=t(34),s=t(16),l=t.n(s);function f(e){return(f=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function d(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function m(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,n){return!n||\\\"object\\\"!==f(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,n){return(v=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t.d(n,\\\"a\\\",function(){return g});var g=function(e){function n(){var e,t;!function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=h(this,(e=y(n)).call.apply(e,[this].concat(r)))).convertToAppLink=function(e,n,t,o){function r(e){return e.replace(/(?:(\\\\d+)|(\\\\w+))[^\\\\w]?/g,function(e,n,t){return n?\\\"000000000\\\".concat(n).slice(n.length-1):\\\"\\\".concat(t,\\\"0000000000\\\").slice(0,-t.length)})}var i=(a[o=Object.keys(a).filter(function(e){return new RegExp(e).test(t)})[0]]||{})[n.name];if(i){var c=i.version;if(c&&(c=c.replace(/(\\\"|')(.+?)\\\\1/g,function(e,n,t){return n+r(t)+n}),new Function(\\\"v\\\",\\\"return \\\".concat(c))(r(n.version))&&(c=null)),!c)return i.schema.replace(/\\\\$(\\\\d)/g,function(e,n,r){return(t.match(o)||[])[n]}).replace(\\\"http:\\\",e)}return t},t}var t,o,s;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&v(e,n)}(n,i[\\\"a\\\"]),t=n,(o=[{key:\\\"dealUrl\\\",value:function(e){if(!e||\\\"javascript: void(0);\\\"===e)return e;var n=this.context.$host;if(new RegExp(\\\"^(https?:)?//\\\").test(e)){var t=\\\"//\\\".concat(n.domains.m,\\\"/asgard/\\\");e=e.replace(t,\\\"//\\\".concat(n.host,\\\"/asgard/\\\"))}else-1===e.indexOf(\\\"dianping://\\\")&&-1===e.indexOf(\\\"imeituan://\\\")&&-1===e.indexOf(\\\"meituanmovie://\\\")&&-1===e.indexOf(\\\"gewara://\\\")&&-1===e.indexOf(\\\"maoyan://\\\")&&-1===e.indexOf(\\\"maoyanpro://\\\")&&(e=\\\"https://\\\".concat(n.host).concat(e));return e}},{key:\\\"clickHandler\\\",value:function(e){var n=this.context,t=n.$browser,o=void 0===t?{}:t,r=n.$user,i=n.$channel,a=void 0===i?{}:i,u=n.$channelId,s=this.props,l=s.requireLogin,f=s.onClick,p=this.props.to;if(l&&!r){e.preventDefault();var d=encodeURIComponent(window.location.href),m={maoyan:\\\"meituanmovie://www.meituan.com/signin?redirectURL=\\\".concat(d),meituan:\\\"imeituan://www.meituan.com/signin?redirectURL=\\\".concat(d)}[o.name];m?\\\"meituan\\\"===o.name&&\\\"ios\\\"===o.platform?c.a.dianpingLogin(p):window.location.href=m:(p=this.dealUrl(p),c.a.clientLogin(u,a,p))}else f&&f(e)}},{key:\\\"render\\\",value:function(){var e=this.context,n=e.$browser,t=void 0===n?{}:n,o=e.$id,i=e.$query,a=e.$protocol,c=e.$channel,s=void 0===c?{}:c,f=e.$channelId,m=e.$channelName,h=this.props,y=h.name,v=h.text,g=h.href,w=h.className,b=(h.requireLogin,h.app),O=h.disabled,k=(h.onClick,h.bid),x=h.viewBid,S=h.lab,_=h.children,I=d(h,[\\\"name\\\",\\\"text\\\",\\\"href\\\",\\\"className\\\",\\\"requireLogin\\\",\\\"app\\\",\\\"disabled\\\",\\\"onClick\\\",\\\"bid\\\",\\\"viewBid\\\",\\\"lab\\\",\\\"children\\\"]),P=this.props.to;(P=P||g||\\\"\\\")&&(f===s.dpmmweb||f===s.dpqqwallet)&&i&&i.cityId&&!~P.indexOf(\\\"cityId=\\\")&&(P+=\\\"&cityId=\\\".concat(i.cityId)),b?P=this.convertToAppLink(a,t,P):P&&(i&&\\\"imeituan\\\"===i.utm_source&&!~P.indexOf(\\\"//\\\")&&(P+=\\\"&utm_source=\\\".concat(i.utm_source)),i&&i.utm_campaign&&!~P.indexOf(\\\"//\\\")&&(P+=\\\"&utm_campaign=\\\".concat(i.utm_campaign))),P&&[\\\"mmweb\\\",\\\"dpmmweb\\\",\\\"qqwallet\\\",\\\"dpqqwallet\\\",\\\"conch\\\"].includes(m)&&!~P.indexOf(\\\"$from=\\\")&&!~P.indexOf(\\\"channelId=\\\")&&(P+=\\\"\\\".concat(~P.indexOf(\\\"?\\\")?\\\"&\\\":\\\"?\\\",\\\"channelId=\\\").concat(f)),O&&(P=\\\"javascript: void(0);\\\");var j=y||P.replace(/\\\\//g,\\\"_\\\"),E=o;return E&&j&&P&&(\\\"/app\\\"===P.substring(0,4)||\\\"/asgard/app\\\"===P.substring(0,10))&&(~P.indexOf(\\\"?\\\")||(P+=\\\"?\\\"),\\\"?\\\"!==P[P.length-1]&&(P+=\\\"&\\\"),P+=\\\"pageId=\\\".concat(E),P+=\\\"&actionId=\\\".concat(j),i&&i.share&&(P+=\\\"&share=\\\".concat(i.share))),P=l.a.handleUrl(P),P=this.dealUrl(P),r.a.createElement(\\\"a\\\",p({href:P||\\\"javascript: void(0);\\\",className:Object(u.a)(\\\"link\\\",w),\\\"data-event\\\":j,onClick:this.clickHandler.bind(this)},I,{\\\"data-bid\\\":k,\\\"data-view-bid\\\":x,\\\"data-lab\\\":S}),v,_)}}])&&m(t.prototype,o),s&&m(t,s),n}();t(391)},11:function(e,n,t){\\\"use strict\\\";(function(e){var o,r,i=t(2),a=t.n(i),c=t(3),u=t(19),s=t.n(u),l=t(33),f=t.n(l),p=t(16),d=t.n(p);function m(e){return(m=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function h(e,n,t,o,r,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(o,r)}function y(e){return function(){var n=this,t=arguments;return new Promise(function(o,r){var i=e.apply(n,t);function a(e){h(i,o,r,a,c,\\\"next\\\",e)}function c(e){h(i,o,r,a,c,\\\"throw\\\",e)}a(void 0)})}}n.a={locationToHref:d.a.locationToHref,handleUrl:d.a.handleUrl,triggerApp:function(){var e=this,n=\\\"\\\";function t(t,o){\\\"chrome\\\"!=AppData.$browser.name&&\\\"samsung\\\"!=AppData.$browser.vender||\\\"android\\\"!=AppData.$browser.platform?(function(){if(!n){var e=document.createElement(\\\"iframe\\\");e.style.cssText=\\\"display:none;width:0px;height:0px;\\\",setTimeout(function(){document.body.appendChild(e)},300),n=e}return n}()).src=t:e.locationToHref(function(e,n){var t=e.substr(e.indexOf(\\\":\\\"));return\\\"intent\\\"+t+\\\"#Intent;scheme=\\\"+e.substr(0,e.length-t.length)+\\\";package=\\\"+n+\\\";end\\\"}(t,o))}return function(e,n,o){var r=Date.now(),i=o||{first:\\\"com.sankuai.movie\\\",second:\\\"com.sankuai.meituan\\\"};t(e,i.first),n&&setTimeout(function(){n&&Date.now()-r<appInstall.timeout+100&&t(n,i.second)},this.timeout)}}(),csrf:function(e){var n={},t=Array.prototype.slice,o=document.getElementsByTagName(\\\"meta\\\");return t.call(o).filter(function(e){return~[\\\"csrf\\\",\\\"timestamp\\\"].indexOf(e.name)}).forEach(function(e){n[e.name]=e.content}),e.set(\\\"csrf\\\",n.csrf),e.set(\\\"timestamp\\\",n.timestamp),e},meta:function(e){var n={},t=Array.prototype.slice,o=document.getElementsByTagName(\\\"meta\\\");return t.call(o).filter(function(e){return~[\\\"csrf\\\",\\\"timestamp\\\",\\\"browser\\\"].indexOf(e.name)}).forEach(function(e){n[e.name]=e.content}),e?n[e]:n},log:function(){var e;(e=console).log.apply(e,arguments)},throwError:function(e,n){},domReady:function(){},cls:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map(function(e){switch(/\\\\[object (\\\\w+)\\\\]/.exec({}.toString.call(e))[1]){case\\\"Array\\\":return e;case\\\"String\\\":return[e];case\\\"Object\\\":return Object.keys(e).filter(function(n){return e[n]})}return[]}).reduce(function(e,n){return e.concat(n)},[]).filter(function(e){return!!e}).reduce(function(e,n){return e.indexOf(n)<0&&e.push(n),e},[]).join(\\\" \\\")},redirect:function(n){\\\"browser\\\"==e.title&&(n.indexOf(\\\"?\\\")!==n.lastIndexOf(\\\"?\\\")&&console.warn(\\\"Your redirect url contains an url param, encodeURIComponent it or it may be confused\\\"),!n||~n.indexOf(\\\"//\\\")||~n.indexOf(\\\"_v_\\\")||(~n.indexOf(\\\"?\\\")?n=n.replace(\\\"?\\\",\\\"?_v_=yes&\\\"):n+=\\\"?_v_=yes\\\"),Common.locationToHref(n))},urlSupportHttps:function(e){return\\\"string\\\"==typeof e&&(e=(e=e.replace(/http:\\\\/\\\\/([^\\\\.]+).meituan.net/,location.protocol+\\\"//$1.meituan.net\\\")).replace(/http:\\\\/\\\\/([^\\\\.]+).maoyan.com/,location.protocol+\\\"//$1.maoyan.com\\\")),e},get $data(){return\\\"browser\\\"==e.title?AppData:{}},get $query(){return{}},openApp:function(e){Common.triggerApp(e)},get $mtnb(){return this._mtnb},clientLogin:function(e,n,t){switch(t=t||window.location.href,e){case n.dpmmweb:case n.dpqqwallet:this.mdpLogin(t);break;case n.qqwallet:this.qqLogin(t);break;case n.wxapp:this.wxappLogin(t);break;case n.dianping:case n.gewara:this.dianpingLogin(t);break;case n.meituan:this.meituanAppLogin(t);break;case n.maoyan:this.maoyanAppLogin(t);break;case n.bankofbeijing:case n.abchina:this.bankLogin(t);break;case n.dyshowsmart:this.dyshowsmartLogin(t);break;default:return void this.maoyanLogin(t)}},dyshowsmartLogin:(r=y(a.a.mark(function e(n){var t,o,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=\\\"/pages/webview/webview?noLogin=true&url=\\\".concat(encodeURIComponent(n||location.href)),null===(t=window.tt)||void 0===t||null===(o=t.miniProgram)||void 0===o||o.navigateTo({url:\\\"/pages/login/index?url=\\\".concat(encodeURIComponent(r))});case 2:case\\\"end\\\":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),bankLogin:function(e){var n=window.AppData.$config,t=void 0===n?{}:n,o=e||window.location.href,r=t.host&&t.host.bankLogin||\\\"https://passport.maoyan.com\\\";this.locationToHref(\\\"\\\".concat(r,\\\"/bankLogin?appName=\\\").concat(window.channelName||AppData.channel.channelName,\\\"&business=media&type=client&redirectURL=\\\").concat(encodeURIComponent(o)))},meituanAppLogin:function(e){c.ready(function(){c.login({success:function(n){e?location.href=e:location.reload()},fail:function(e){console.log(e)}})})},dianpingLogin:function(e){e=e||window.location.href,c.ready(function(){c.login({success:function(n){e?location.href=e:location.reload()},fail:function(e){console.log(e)}})})},maoyanLogin:function(e){var n=window.AppData.$config,t=void 0===n?{}:n,o=t.host&&t.host.imaoyanlogin||\\\"https://passport.maoyan.com\\\",r=encodeURIComponent(e||\\\"https://m.maoyan.com\\\".concat(location.pathname+location.search));this.locationToHref(\\\"\\\".concat(o,\\\"/login?redirectURL=\\\").concat(r))},qqLogin:function(e){var n=e||window.location.href;n=encodeURIComponent(n);var t=window.AppData.$config,o=void 0===t?{}:t,r=o.host&&o.host.bankLogin||\\\"https://passport.maoyan.com\\\",i=\\\"\\\".concat(s.a.get(\\\"iuuid\\\"),\\\" \\\").concat(f()(new Date,\\\"yyyy-mm-dd HH:MM:ss.l\\\"));this.locationToHref(\\\"\\\".concat(r,\\\"/bankLogin?appName=qq&business=media&redirectURL=\\\").concat(n,\\\"&type=server&bankTimeLog=\\\").concat(i))},mdpLogin:function(e){var n=e||window.location.href;n=encodeURIComponent(n);var t=encodeURIComponent(\\\"https://maoyan.dianping.com/dplogin?from=\\\".concat(window.channelName||AppData.$channelName,\\\"&redirectURL=\\\").concat(n));this.locationToHref(\\\"https://m.dianping.com/login?redir=\\\".concat(t))},maoyanAppLogin:function(e){c.ready(function(){c.login({success:function(n){e&&-1!==e.search(/\\\\?/g)?e+=\\\"&token=\\\"+n.token:e+=\\\"?token=\\\"+n.token,location.href=e},fail:function(e){console.log(e)}})})},wxappLogin:(o=y(a.a.mark(function e(n){var t,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isWechatSmallProgram(AppData.$browser||{});case 2:e.sent?(t=\\\"/pages/webview/webview?noLogin=true&url=\\\".concat(encodeURIComponent(n||location.href)),wx.miniProgram.redirectTo({url:\\\"/pages/login/index?url=\\\".concat(encodeURIComponent(t))})):(-1===(o=location.search).indexOf(\\\"from=\\\")&&(o=\\\"\\\".concat(location.search).concat(location.search?\\\"&\\\":\\\"?\\\",\\\"from=\\\").concat(window.channelName)),n=n||\\\"https://\\\".concat(AppData.$host.host).concat(location.pathname+o),n=encodeURIComponent(n),this.locationToHref(\\\"/wxlogin?from=mmweb&redirectURL=\\\".concat(n)));case 4:case\\\"end\\\":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),mge:function(e,n,t){var o={nm:\\\"mge\\\",val_bid:e,val_cid:n||AppData.cid,event_type:\\\"click\\\"};t&&\\\"object\\\"===m(t)&&(o.val_lab=t),Analytics(\\\"event\\\",o)},isWechatSmallProgram:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,t){if(\\\"undefined\\\"!=typeof window){var o=/micromessenger/i.test(window.navigator.userAgent),r=function(){\\\"miniprogram\\\"===window.__wxjs_environment?n(!0):n(!1)};o||n(!1),\\\"ios\\\"==e.platform?r():window.WeixinJSBridge&&WeixinJSBridge.invoke?r():document.addEventListener(\\\"WeixinJSBridgeReady\\\",function(){r()},!1)}else n(!1)})}}}).call(this,t(14))},112:function(e,n){},113:function(e,n){},114:function(e,n){},115:function(e,n){},1271:function(e,n,t){},1272:function(e,n,t){},1273:function(e,n,t){},13:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"a\\\",function(){return u});var o=t(15);function r(e){return(r=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function i(e,n){return!n||\\\"object\\\"!==r(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,n){return(c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var u=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),i(this,a(n).apply(this,arguments))}return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&c(e,n)}(n,o[\\\"b\\\"]),n}()},134:function(e,n,t){var o={\\\"./zh-cn\\\":62,\\\"./zh-cn.js\\\":62};function r(e){var n=i(e);return t(n)}function i(e){if(!t.o(o,e)){var n=new Error(\\\"Cannot find module '\\\"+e+\\\"'\\\");throw n.code=\\\"MODULE_NOT_FOUND\\\",n}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=134},14:function(e,n,t){e.exports=t(23)(387)},15:function(e,n,t){\\\"use strict\\\";(function(e){t.d(n,\\\"b\\\",function(){return D}),t.d(n,\\\"a\\\",function(){return b});var o=t(0),r=t.n(o),i=t(41),a=t.n(i),c=t(25),u=t(54),s=t.n(u),l=t(34),f=t(11);function p(e){return(p=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function d(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e,n){return!n||\\\"object\\\"!==p(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(t,!0).forEach(function(n){w(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function w(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var b=r.a.createContext({}),O=[\\\"maoyan\\\",\\\"meituan\\\",\\\"dianping\\\"];if(\\\"browser\\\"===e.title){var k=AppData,x=k.$user,S=k.user,_=k.$params,I=void 0===_?{}:_,P=k.$channelId,j=k.channelId,E=k.$channel,A=void 0===E?{}:E,T=window.location,M=T.href,N=T.search.split(\\\"?\\\"),C=(null==x?void 0:x.userCode)||(null==S?void 0:S.userCode),L={};N[1]&&(L=a.a.parse(N[1])),L.userCode&&C&&L.userCode!==C&&(console.log(\\\"瀹㈡€�\\\"),setTimeout(function(){return Object(c.reportHandle)({userCode:C,friendCode:L.userCode,channelId:P||j||A.channelId||4,url:M,params:JSON.stringify(g({},L,{},I))},\\\"/asgard/relationProxy/user/addUserRelation\\\")},100))}var D=function(e){function n(){var e,t;!function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(t=m(this,(e=h(n)).call.apply(e,[this].concat(r)))).locationToHref=f.a.locationToHref,t.gotoLogin=function(e){var n=t.context.channel,o=n.channelId,r=n.channelIdMap;f.a.clientLogin(o,r,e||window.location.href)},t}var o,i,a;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(n,r.a.Component),o=n,a=[{key:\\\"urlSupportHttps\\\",value:function(e){return\\\"string\\\"==typeof e&&(e=(e=e.replace(/http:\\\\/\\\\/([^\\\\.]+).meituan.net/,location.protocol+\\\"//$1.meituan.net\\\")).replace(/http:\\\\/\\\\/([^\\\\.]+).maoyan.com/,location.protocol+\\\"//$1.maoyan.com\\\")),e}}],(i=[{key:\\\"isWechatSmallProgram\\\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,t){if(\\\"undefined\\\"!=typeof window){var o=/micromessenger/i.test(window.navigator.userAgent),r=function(){\\\"miniprogram\\\"===window.__wxjs_environment?n(!0):n(!1)};o||n(!1),\\\"ios\\\"==e.platform?r():window.WeixinJSBridge&&WeixinJSBridge.invoke?r():document.addEventListener(\\\"WeixinJSBridgeReady\\\",function(){r()},!1)}else n(!1)})}},{key:\\\"triggerApp\\\",value:function(e,n){var t=\\\"\\\";!function(e,n){Date.now(),function(e,n){!AppData.$browser||\\\"chrome\\\"!=AppData.$browser.name&&\\\"samsung\\\"!=AppData.$browser.vender||\\\"android\\\"!=AppData.$browser.platform?\\\"android\\\"==AppData.$browser.platform?(function(){if(!t){var e=document.createElement(\\\"iframe\\\");e.style.cssText=\\\"opacity:0;width:0px;height:0px;\\\",setTimeout(function(){document.body.appendChild(e)},300),t=e}return t}()).src=e:window.location.href=e:f.a.locationToHref(function(e,n){var t=e.substr(e.indexOf(\\\":\\\"));return\\\"intent\\\"+t+\\\"#Intent;scheme=\\\"+e.substr(0,e.length-t.length)+\\\";package=\\\"+n+\\\";end\\\"}(e,n))}(e,(n||{first:\\\"com.sankuai.movie\\\"}).first)}(e,n)}},{key:\\\"stats\\\",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\\\"click\\\";if(e){var o=\\\"object\\\"===p(e)?e:{val_bid:e,val_lab:n,event_type:t,val_cid:AppData.cid,nm:\\\"mge\\\"};setTimeout(function(){window.Analytics&&window.Analytics(\\\"event\\\",o)},0)}}},{key:\\\"loadRiskManagementSDK\\\",value:function(){return window.Rohr_Opt=window.Rohr_Opt||{geo:!1},t.e(22).then(t.t.bind(null,156,7))}},{key:\\\"MD5\\\",value:function(e){return s.a.createHash(\\\"md5\\\").update(e).digest(\\\"hex\\\")}},{key:\\\"GetMD5Sign\\\",value:function(){var e=this.context,n=e.user,t=void 0===n?{}:n,o=e.channel,r=(void 0===o?{}:o).channelId,i=Math.ceil(10*Math.random()),a=(new Date).getTime(),c=window.navigator.userAgent,u=\\\"method=POST&token=\\\".concat(t.token||\\\"\\\",\\\"&timestamp=\\\").concat(a,\\\"&User-Agent=\\\").concat(c,\\\"&index=\\\").concat(i,\\\"&channelId=\\\").concat(r);return{randomNum:i,timestamp:a,md5sign:this.MD5(u+\\\"&key=A013F70DB97834C0A5492378BD76C53A\\\"),channelId:r}}},{key:\\\"setBackButton\\\",value:function(e){var n=(this.context||{}).$browser,t=void 0===n?{}:n,o=t.name,r=void 0===o?\\\"\\\":o,i=t.platform,a=void 0===i?\\\"\\\":i;O.includes(r)&&KNB.ready(function(){var n=\\\"android\\\"===a?\\\"native\\\":\\\"text\\\";KNB.setLLButton({type:n,icon:\\\"H5_Back\\\",handle:function(){e?e():KNB.closeWebview({})},fail:function(e){console.log(\\\"common.js setBackButton\\\",JSON.stringify(e))}})})}},{key:\\\"getAppUserInfo\\\",value:function(){var e=(this.context||{}).$browser,n=(void 0===e?{}:e).name,t=void 0===n?\\\"\\\":n;O.includes(t)&&KNB.ready(function(){KNB.getUserInfo({success:function(e){return console.log(\\\"馃殌 ~ Common ~ KNB.ready ~ user:\\\",e),{userId:e.userId,uuid:e.uuid,token:e.token}},fail:function(e){console.log(\\\"err\\\",JSON.stringify(e))}})})}},{key:\\\"checkIsMiniProgram\\\",value:function(e){return!!e&&[70001,120003,120001,110001,200001,70005,230001,230002,220001,120005].includes(Number(null==e?void 0:e.channelId))}},{key:\\\"getMiniProTarget\\\",value:function(e){var n,t,o,r,i,a,c,u,s;return e?{70001:null===(n=window.wxObj)||void 0===n?void 0:n.miniProgram,120003:null===(t=window.tt)||void 0===t?void 0:t.miniProgram,120001:null===(o=window.tt)||void 0===o?void 0:o.miniProgram,120005:null===(r=window.tt)||void 0===r?void 0:r.miniProgram,110001:null===(i=window.swan)||void 0===i?void 0:i.webView,200001:null===(a=window)||void 0===a?void 0:a.ks,70005:null===(c=window.qq)||void 0===c?void 0:c.miniProgram,230001:null===(u=window.xhs)||void 0===u?void 0:u.miniProgram,230002:null===(s=window.xhs)||void 0===s?void 0:s.miniProgram,220001:\\\"\\\"}[Number(null==e?void 0:e.channelId)]:null}},{key:\\\"initMiniApp\\\",value:function(e){if(!e)return Promise.resolve({isSmartProgram:!1});var n=this.checkIsMiniProgram(e);if(n){var t=this.getMiniProTarget(e);return Promise.resolve({miniProgramTarget:t,isMiniProgram:n})}return Promise.resolve({isMiniProgram:n})}}])&&d(o.prototype,i),a&&d(o,a),n}();D.cls=l.a,D.contextType=b,D.locationToHref=f.a.locationToHref}).call(this,t(14))},16:function(e,n,t){var o;function r(e){return(r=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}var i={handleUrl:function(e){if(!e)return e;if(e=e.replace(/^\\\\/\\\\/(i|m).maoyan.com/,\\\"\\\").replace(/^http(s)?:\\\\/\\\\/(i|m).maoyan.com/,\\\"\\\"),\\\"object\\\"===(\\\"undefined\\\"==typeof window?\\\"undefined\\\":r(window))&&window.location){var n=location.search;0===n.indexOf(\\\"?\\\")&&(n=n.substr(1));var t={};if(n)for(var o=n.split(\\\"&\\\"),i=o.length-1;i>=0;i--){var a=o[i].split(\\\"=\\\");a[1]?t[a[0]]=decodeURIComponent(a[1].replace(/\\\\+/g,\\\" \\\")):t[a[0]]=null}(n=t).my_source&&((e=e.split(\\\"#\\\"))[0]+=-1!==e[0].indexOf(\\\"?\\\")?\\\"&my_source=\\\"+n.my_source:\\\"?my_source=\\\"+n.my_source,e=e.join(\\\"#\\\"))}return e},locationToHref:function(e){if(\\\"javascript:void(0)\\\"!==e&&e)if(e=i.handleUrl(e),\\\"inservice\\\"===window.channelName){-1!==[\\\"/\\\",\\\"/myCenter\\\",\\\"/maoyancashier\\\"].indexOf(e.split(\\\"?\\\")[0])?MIP.viewer.open(e,{isMipLink:!1,replace:!1}):0===e.indexOf(\\\"/seats/\\\")||0===e.indexOf(\\\"/createOrder/\\\")?MIP.viewer.open(e,{isMipLink:!1,replace:!1}):(e=e.split(\\\"#\\\")[0],MIP.viewer.open(e,{isMipLink:!0,replace:!1}))}else location.href=e}};e.exports?e.exports=i:void 0===(o=function(){return i}.apply(n,[]))||(e.exports=o)},17:function(e,n,t){e.exports=t(24)(163)},1755:function(e,n,t){\\\"use strict\\\";t.r(n);var o=t(0),r=t.n(o),i=t(35),a=t(408),c=t(41),u=t.n(c),s=t(4),l=t(13),f=t(8),p=t(840),d=t(103);function m(e){return(m=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function h(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function y(e,n){return!n||\\\"object\\\"!==m(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,n){return(g=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var w=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),(t=y(this,v(n).call(this,e))).state={wishst:!!t.props.movie.wishst},t}var t,o,i;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&g(e,n)}(n,l[\\\"a\\\"]),t=n,(o=[{key:\\\"switchWish\\\",value:function(e){var n=this;e.preventDefault();var t=this.props,o=t.userInfo,r=void 0===o?{}:o,i=t.movie,a=void 0===i?{}:i,c=t.channel,l=location.href;if(!(r&&r.id||3!=c.channelId))return location.href=\\\"imeituan://www.meituan.com/signin?redirectURL=\\\"+l;var f=r.id,p=a.id,d=r.token,m=this.state.wishst?0:1,h=1,y=2;s.a.post(\\\"/board/\\\".concat(p,\\\"/like\\\"),u.a.stringify({userId:f,token:d,type:m,business:3==c.channelId?y:h,clientType:\\\"touch\\\"})).then(function(e){e&&e.data&&e.data.id==p&&n.setState({wishst:!n.state.wishst})}).catch(function(e){console.log(e)})}},{key:\\\"renderBtn\\\",value:function(){var e=this.props,n=e.channel,t=e.boardType;if(3==n.channelId){var o=this.state.wishst?1:0,i=r.a.createElement(\\\"i\\\",{className:\\\"icon icon-\\\".concat([\\\"heart-empty\\\",\\\"heart\\\"][o])});return r.a.createElement(p.a,{className:\\\"btn-reverse wish\\\",name:\\\"wish_\\\".concat(t),onClick:this.switchWish.bind(this)},i,\\\"鎯崇湅\\\")}return r.a.createElement(p.a,{className:\\\"btn-reverse\\\",text:\\\"鎯崇湅\\\",link:\\\"/app\\\",name:\\\"wish_\\\".concat(t)},r.a.createElement(\\\"i\\\",{className:\\\"icon icon-heart-empty\\\"}))}},{key:\\\"render\\\",value:function(){var e=this.props,n=e.index,t=e.movie,o=e.extraBottom,i=e.extraRight,a=e.boardType;return r.a.createElement(\\\"div\\\",{className:\\\"board-card clearfix\\\"},r.a.createElement(d.a,{className:\\\"link-holder\\\",to:\\\"/asgard/movie/\\\".concat(t.id),name:\\\"movie_\\\".concat(a)}),r.a.createElement(\\\"div\\\",{className:\\\"cover\\\"},r.a.createElement(\\\"i\\\",{className:\\\"rank-bg rank-bg-\\\"+(n<4?\\\"top\\\":\\\"bottom\\\")}),r.a.createElement(\\\"i\\\",{className:\\\"rank-number\\\"},n),r.a.createElement(f.a,{src:t.img,alt:t.nm,width:200,height:240})),r.a.createElement(\\\"div\\\",{className:\\\"info\\\"},r.a.createElement(\\\"h3\\\",{className:\\\"title\\\"},t.nm),r.a.createElement(\\\"div\\\",{className:\\\"actors\\\"},t.star),r.a.createElement(\\\"div\\\",{className:\\\"cat\\\"},t.cat),r.a.createElement(\\\"div\\\",{className:\\\"date\\\"},t.rt),o),r.a.createElement(\\\"div\\\",{className:\\\"right extra-right\\\"},i,this.renderBtn()))}}])&&h(t.prototype,o),i&&h(t,i),n}();function b(e){return(b=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function O(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e,n){return!n||\\\"object\\\"!==b(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,n){return(S=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t(1271);var _,I=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),k(this,x(n).apply(this,arguments))}var t,o,i;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&S(e,n)}(n,l[\\\"a\\\"]),t=n,(o=[{key:\\\"render\\\",value:function(){var e,n=this.props,t=n.index,o=n.data,i=void 0===o?{}:o;switch(i.posState){case 1:e=r.a.createElement(\\\"span\\\",{className:\\\"posIcon new\\\"},\\\"NEW\\\");break;case 4:e=r.a.createElement(\\\"i\\\",{className:\\\"posIcon icon icon-arrow-down\\\"})}return r.a.createElement(\\\"div\\\",{className:\\\"actor-card\\\"},r.a.createElement(\\\"a\\\",{className:\\\"link-holder\\\",href:\\\"/asgard/celebrity/\\\"+i.id}),r.a.createElement(\\\"div\\\",{className:\\\"cover\\\"},r.a.createElement(\\\"i\\\",{className:\\\"rank-number rank-\\\"+(t<4?\\\"top\\\":\\\"bottom\\\")},t),r.a.createElement(f.a,{src:i.avatar,width:\\\"200\\\",height:\\\"240\\\",preload:!0,alt:i.cnm})),r.a.createElement(\\\"div\\\",{className:\\\"info\\\"},r.a.createElement(\\\"h3\\\",{className:\\\"title\\\"},i.cnm),r.a.createElement(\\\"p\\\",{className:\\\"des\\\"},i.movies),r.a.createElement(\\\"p\\\",{className:\\\"extra\\\"},i.pos,e)),r.a.createElement(\\\"div\\\",{className:\\\"right\\\"},r.a.createElement(\\\"span\\\",{className:\\\"number\\\"},i.pv),\\\"浜哄叧娉�\\\"))}}])&&O(t.prototype,o),i&&O(t,i),n}();function P(e){return(P=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function j(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e,n){return!n||\\\"object\\\"!==P(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,n){return(T=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t(1272),t.d(n,\\\"default\\\",function(){return M});var M=i.a.renderToDom()(_=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),E(this,A(n).apply(this,arguments))}var t,o,c;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&T(e,n)}(n,i[\\\"a\\\"]),t=n,(o=[{key:\\\"getHtml\\\",value:function(e,n){var t,o;switch(parseInt(e)){case 2:o=r.a.createElement(\\\"div\\\",null,r.a.createElement(\\\"p\\\",{className:\\\"number\\\"},n.wish),\\\"浜烘兂鐪�\\\");break;case 3:o=r.a.createElement(\\\"div\\\",null,\\\"鏄ㄦ棩绁ㄦ埧\\\",r.a.createElement(\\\"div\\\",null,r.a.createElement(\\\"span\\\",{className:\\\"number\\\"},Math.round(n.dailyBoxOffice)),\\\"涓�\\\")),t=r.a.createElement(\\\"div\\\",null,\\\"鎬荤エ鎴匡細 \\\",Math.round(n.sumBoxOffice),\\\"涓�\\\");break;case 4:o=r.a.createElement(\\\"div\\\",null,\\\"涓婂懆鏈エ鎴�\\\",r.a.createElement(\\\"div\\\",null,r.a.createElement(\\\"span\\\",{className:\\\"number\\\"},n.weekBoxOffice),\\\"涓囩編鍏�\\\")),t=r.a.createElement(\\\"div\\\",null,\\\"鎬荤エ鎴匡細 \\\",n.sumBoxOffice,\\\"涓囩編鍏�\\\");break;case 6:o=r.a.createElement(\\\"div\\\",null,\\\"鏈湀鏂板鎯崇湅\\\",r.a.createElement(\\\"p\\\",{className:\\\"number\\\"},n.monthWish)),t=r.a.createElement(\\\"div\\\",null,\\\"鎬绘兂鐪嬶細\\\",n.wish,\\\"浜�\\\");break;case 7:default:o=r.a.createElement(\\\"div\\\",null,r.a.createElement(\\\"span\\\",{className:\\\"number\\\"},n.sc.toFixed(1)),\\\"鍒�\\\")}return{extraBottom:t,extraRight:o}}},{key:\\\"render\\\",value:function(){var e,n=this,t=this.props,o=t.type,i=t.data,c=t.channel;if(5!==parseInt(o)){var u=this.props.userInfo;e=i.movies.map(function(e,t){var i=n.getHtml(o,e),a=i.extraBottom,s=i.extraRight;return r.a.createElement(w,{key:t,index:t+1,movie:e,extraBottom:a,extraRight:s,channel:c,userInfo:u,boardType:o})})}else e=i.celebrities.map(function(e,n){return r.a.createElement(I,{key:n,index:n+1,data:e})});return r.a.createElement(r.a.Fragment,null,4==c.channelId?r.a.createElement(a.a,{isBack:!0}):null,r.a.createElement(\\\"div\\\",{className:\\\"description2\\\"},r.a.createElement(\\\"h2\\\",null,i.title),r.a.createElement(\\\"div\\\",{className:\\\"date\\\"},r.a.createElement(\\\"div\\\",{className:\\\"number\\\"},i.created+\\\" 宸叉洿鏂�\\\")),r.a.createElement(\\\"div\\\",null,i.content)),e)}}])&&j(t.prototype,o),c&&j(t,c),n}())||_;t(1273)},22:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"e\\\",function(){return f}),t.d(n,\\\"w\\\",function(){return p}),t.d(n,\\\"v\\\",function(){return d}),t.d(n,\\\"n\\\",function(){return m}),t.d(n,\\\"m\\\",function(){return h}),t.d(n,\\\"q\\\",function(){return y}),t.d(n,\\\"d\\\",function(){return v}),t.d(n,\\\"j\\\",function(){return g}),t.d(n,\\\"k\\\",function(){return w}),t.d(n,\\\"r\\\",function(){return b}),t.d(n,\\\"g\\\",function(){return O}),t.d(n,\\\"f\\\",function(){return k}),t.d(n,\\\"l\\\",function(){return x}),t.d(n,\\\"i\\\",function(){return S}),t.d(n,\\\"h\\\",function(){return _}),t.d(n,\\\"z\\\",function(){return I}),t.d(n,\\\"a\\\",function(){return P}),t.d(n,\\\"y\\\",function(){return j}),t.d(n,\\\"b\\\",function(){return E}),t.d(n,\\\"B\\\",function(){return A}),t.d(n,\\\"s\\\",function(){return T}),t.d(n,\\\"o\\\",function(){return M}),t.d(n,\\\"t\\\",function(){return N}),t.d(n,\\\"x\\\",function(){return C}),t.d(n,\\\"p\\\",function(){return L}),t.d(n,\\\"c\\\",function(){return D}),t.d(n,\\\"C\\\",function(){return B}),t.d(n,\\\"A\\\",function(){return U}),t.d(n,\\\"u\\\",function(){return V});t(66),t(67);var o=t(39),r=t.n(o),i=t(37),a=t(11);function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return t}(e,n)||function(){throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\")}()}function u(e){return(u=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function f(e){var n=Array.from(e.toString()).reverse(),t=[];n.forEach(function(e,n){t.push(e),(n+1)%3==0&&t.push(\\\",\\\")});var o=t.reverse().join(\\\"\\\");return o.startsWith(\\\",\\\")&&(o=o.slice(1)),o}function p(e,n){for(var t=e.split(\\\".\\\"),o=n.split(\\\".\\\"),r=0;r<t.length&&r<o.length;){if(Number(t[r])>Number(o[r]))return!0;if(Number(t[r])<Number(o[r]))return!1;r++}return t.length>o.length||(t.length,o.length,!1)}function d(e,n,t){return e=e?e.replace(/^http(s)?:/,\\\"\\\"):\\\"\\\",n&&t&&(e.includes(\\\".meituan.net/\\\")&&!e.includes(\\\"/w.h/\\\")&&(e=e.split(\\\".meituan.net/\\\").join(\\\".meituan.net/\\\".concat(n,\\\".\\\").concat(t,\\\"/\\\"))),e.includes(\\\".pipi.cn/\\\")&&(e+=\\\"?imageView2/1/w/\\\".concat(n,\\\"/h/\\\").concat(t))),e}function m(){return window.pageYOffset||document.documentElement.scrollTop}function h(){var e=document;return Math.max(e.documentElement.scrollHeight,e.documentElement.offsetHeight,e.documentElement.clientHeight)}function y(){return Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function v(e){var n=e.w,t=e.h,o=e.q,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\\\"\\\";if(!r||r.includes(\\\"wx.qlogo.cn\\\"))return r;var i,a=r;-1!==a.indexOf(\\\"pipi.cn\\\")?(n&&t?i=\\\"?imageView2/1/w/\\\".concat(n,\\\"/h/\\\").concat(t):n&&!t?i=\\\"?imageView2/2/w/\\\".concat(n):!n&&t&&(i=\\\"?imageView2/2/h/\\\".concat(t)),i&&(o&&(i+=\\\"/q/\\\".concat(o)),a=a.split(\\\"?\\\")[0]+i)):(a=(a=(a=(a=a.split(\\\"?\\\")[0].split(\\\"@\\\")[0]).replace(\\\"w.h/\\\",\\\"\\\")).replace(/\\\\d+\\\\.\\\\d+\\\\//,\\\"\\\")).replace(\\\"//s3plus.sankuai.com/\\\",\\\"//s3plus-img.sankuai.com/\\\"),n&&t&&(a+=\\\"@\\\".concat(n,\\\"w_\\\").concat(t,\\\"h_1e_1c\\\")),n&&!t&&(a+=\\\"@\\\".concat(n,\\\"w\\\")),!n&&t&&(a+=\\\"@\\\".concat(t,\\\"h\\\")));return a}function g(e){var n=e.w,t=e.h,o=e.quality,r=e.e,i=e.l,a=e.c,c=e.sc,u=e.manualTailor,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\\\"\\\";if(!s||s.includes(\\\"wx.qlogo.cn\\\"))return s;var l=s.split(\\\"?\\\")[0].split(\\\"@\\\")[0];if(-1!==l.indexOf(\\\"pipi.cn\\\"))n&&t&&(l+=\\\"?imageView2/1/w/\\\".concat(n,\\\"/h/\\\").concat(t)),n&&!t&&(l+=\\\"?imageView2/2/w/\\\".concat(n)),!n&&t&&(l+=\\\"?imageView2/2/h/\\\".concat(t));else if(/(p\\\\d|img)\\\\.meituan\\\\.net/.test(s)){var f=[],p=\\\"\\\",d=s.split(\\\"/\\\").slice(/\\\\/(\\\\d+|w)\\\\.(\\\\d+|h)\\\\//.test(s)?4:3).join(\\\"/\\\").split(\\\"@\\\")[0];n&&f.push(\\\"\\\".concat(parseInt(n,10),\\\"w\\\")),t&&f.push(\\\"\\\".concat(parseInt(t,10),\\\"h\\\")),o&&f.push(\\\"\\\".concat(parseInt(o,10),\\\"q\\\")),r&&f.push(\\\"\\\".concat(parseInt(r,10),\\\"e\\\")),i&&f.push(\\\"\\\".concat(parseInt(i,10),\\\"l\\\")),a&&f.push(\\\"\\\".concat(parseInt(a,10),\\\"c\\\")),u?n&&t&&(p+=\\\"@1sc%7C\\\".concat(n,\\\"w%7C\\\")+\\\"0_0_\\\".concat(n,\\\"_\\\").concat(t,\\\"a\\\")):f.length&&(p+=\\\"@\\\",c&&(c=parseInt(c,10),p+=\\\"\\\".concat(c,\\\"sc%7C\\\")),p+=\\\"\\\".concat(f.join(\\\"_\\\"))),d+=p;var m=parseInt((s.match(/\\\\d/g)||[]).slice(0,5).join(\\\"\\\"),10);l=[\\\"//p\\\".concat(m?m%2:0,\\\".meituan.net\\\"),d].join(\\\"/\\\")}else l=(l=(l=l.replace(\\\"w.h/\\\",\\\"\\\")).replace(/\\\\d+\\\\.\\\\d+\\\\//,\\\"\\\")).replace(\\\"//s3plus.sankuai.com/\\\",\\\"//s3plus-img.sankuai.com/\\\"),n&&t&&(l+=\\\"@\\\".concat(n,\\\"w_\\\").concat(t,\\\"h_1e_1c\\\")),n&&!t&&(l+=\\\"@\\\".concat(n,\\\"w\\\")),!n&&t&&(l+=\\\"@\\\".concat(t,\\\"h\\\"));return l}function w(e){if(e){var n=parseInt(e),t=0,o=0,r=\\\"\\\";n>=60&&(t=parseInt(n/60),n=parseInt(n%60),t>=60&&(o=parseInt(t/60),t=parseInt(t%60)));r=\\\"\\\".concat(parseInt(n));return r=n<10>0?\\\"0\\\".concat(parseInt(n)):\\\"\\\".concat(parseInt(n)),r=t<10>0?\\\"0\\\".concat(parseInt(t),\\\":\\\").concat(r):\\\"\\\".concat(parseInt(t),\\\":\\\").concat(r),o>0&&(r=\\\"\\\".concat(parseInt(o),\\\":\\\").concat(r)),r}}function b(e){if(e){var n=e.currentTarget.dataset&&e.currentTarget.dataset.pi||\\\"\\\";Object(i.b)(n)}}function O(e){if(!e)return{};var n=new Date(e),t=n.getFullYear(),o=n.getMonth()+1;o=o<10?\\\"0\\\".concat(o):o;var r=n.getDate();return{y:t,m:o,d:r=r<10?\\\"0\\\".concat(r):r}}function k(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=Number.parseFloat(e);if(\\\"number\\\"!=typeof e||isNaN(e))return null;if(t<=0)return 0;var o=e/100;n<0?n=0:o=o.toFixed(n);var r=(o+=\\\"\\\").split(\\\".\\\")[0],i=o.split(\\\".\\\")[1];return 0===parseInt(i,10)&&(o=r),o}function x(e){if(!e)return{};var n=parseInt(e,10),t=(new Date).getTime(),o=n>t,r=Math.abs(n-t),i=Math.floor(r/864e5),a=r%864e5,c=a%36e5,u=c%6e4;return{isGoOut:o,days:Math.floor(i),hours:Math.floor(a/36e5),minutes:Math.floor(c/6e4),seconds:Math.round(u/1e3)}}function S(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\\\"\\\";return n.length>e?\\\"\\\".concat(n.substr(0,e),\\\"...\\\"):n}var _=function(e){return r()(new Date(e)).format(\\\"YYYY-MM-DD\\\")};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\\\"\\\";return\\\"meituanmovie://www.meituan.com/exportweb?url=\\\".concat(encodeURIComponent(e))}function P(e){var n=parseInt(e,10)||0,t=n.toString().length,o=parseInt(\\\"1\\\".concat(\\\"0\\\".repeat(t-1))),r=0;return t>1&&(r=n%o>5?o:o/10),r}function j(e){return e.indexOf(\\\"//\\\")>=0?e:\\\"undefined\\\"!=typeof window&&window.AppData.$env&&\\\"staging\\\"===window.AppData.$env?\\\"https://canary.movie.st.maoyan.com\\\".concat(e):\\\"undefined\\\"!=typeof window&&window.AppData.$env&&\\\"test\\\"===window.AppData.$env?\\\"https://canary.movie.test.maoyan.com\\\".concat(e):\\\"https://m.maoyan.com\\\".concat(e)}function E(e,n,t){if(!e)return e;if(e=(e=e.replace(\\\"/w.h/\\\",\\\"/\\\")).split(\\\"@\\\")[0],void 0===n&&(n={}),\\\"number\\\"==typeof n&&(n={w:n,h:t}),\\\"object\\\"===u(n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(t,!0).forEach(function(n){l(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({l:1,e:1,c:1},n)))if(e.match(\\\"pipi.cn\\\")){e=e.split(\\\"?\\\")[0];var o=[\\\"/2\\\",\\\"/3\\\",\\\"/1\\\"];if(e+=\\\"?imageView2\\\",e+=n.c?o[2]:o[n.e]||o[2],n.w&&(e+=\\\"/w/\\\".concat(n.w)),n.h&&(e+=\\\"/h/\\\".concat(n.h)),n.q||n.Q){var r=n.q?\\\"q\\\":\\\"Q\\\";e+={q:\\\"/rq/<Quality>\\\",Q:\\\"/q/<Quality>\\\"}[r].replace(/<Quality>/,n[r])}}else e+=\\\"@\\\",e+=Object.keys(n).filter(function(e){return!!n[e]}).map(function(e){return n[e]+e}).join(\\\"_\\\");return e}function A(e,n){if((e=e||\\\"0.0.0\\\")===(n=n||\\\"0.0.0\\\"))return 0;for(var t=e.split(\\\".\\\"),o=n.split(\\\".\\\"),r=Math.max(t.length,o.length),i=0;i<r;i++){var a=~~o[i],c=~~t[i];if(a<c)return 1;if(a>c)return-1}return 0}var T=function(e){if(4===e.length){\\\"#\\\";for(var n=1;n<4;n+=1)e.slice(n,n+1).concat(e.slice(n,n+1))}var t=e.toLocaleLowerCase().slice(7,9);return{r:parseInt(\\\"0x\\\".concat(e.slice(1,3))),g:parseInt(\\\"0x\\\".concat(e.slice(3,5))),b:parseInt(\\\"0x\\\".concat(e.slice(5,7))),a:t?Math.round(parseInt(t,16)/255*100)/100:1}},M=function(e,n){return\\\"rgba(\\\".concat(e.r,\\\",\\\").concat(e.g,\\\",\\\").concat(e.b,\\\", \\\").concat(n,\\\")\\\")},N=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(t.test(e)){4===e.length&&(e=e.replace(/([0-9a-fA-F])/g,\\\"$1$1\\\"));for(var o=[],r=1;r<7;r+=2)o.push(parseInt(\\\"0x\\\".concat(e.slice(r,r+2))));e=\\\"rgba(\\\".concat(o.join(\\\",\\\"),\\\",\\\").concat(n,\\\")\\\")}return e},C=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=e.getBoundingClientRect(),o=t.x,r=t.y,i=t.left,a=t.top,c=t.width,u=t.height,s=window.innerHeight||document.documentElement.clientHeight,l=window.innerWidth||document.documentElement.clientWidth;if(0===c||0===u||a<0-u||a>s||i<0-c||i>l)return!1;var f=Math.min(l,o+c)-Math.max(o,0),p=Math.min(s,r+u)-Math.max(r,0),d=f*p>=c*u*n;return d};function L(e,n){var t=\\\"meituan\\\"===n.name,o=\\\"dianping\\\"===n.name,r=window.location.origin,i=/^http[s]?/.test(e)?e:r+e;return t&&r?\\\"imeituan://www.meituan.com/web?url=\\\".concat(encodeURIComponent(i)):o&&r?\\\"dianping://web?url=\\\".concat(encodeURIComponent(i)):r?i:e}var D=function(e){return function(n){var t=(null==e?void 0:e.channel)||{},o=t.channelId,r=t.channelIdMap;o&&r?a.a.clientLogin(o,r,n||window.location.href):console.error(\\\"Channel context missing\\\")}};function R(e){var n=[\\\"3D\\\",\\\"STARX\\\",\\\"CINITY 2D\\\",\\\"CINITY 3D\\\",\\\"涓浗宸ㄥ箷 2D\\\",\\\"涓浗宸ㄥ箷 3D\\\",\\\"鏉滄瘮褰遍櫌 2D\\\",\\\"鏉滄瘮褰遍櫌 3D\\\",\\\"IMAX 2D\\\",\\\"IMAX 3D\\\"],t=(e||\\\"\\\").split(\\\"/\\\").map(function(e){return e.replace(\\\"涓浗宸ㄥ箷2D\\\",\\\"涓浗宸ㄥ箷 2D\\\").replace(\\\"涓浗宸ㄥ箷3D\\\",\\\"涓浗宸ㄥ箷 3D\\\").replace(\\\"starmax\\\",\\\"STARX\\\")}).filter(function(e){return n.includes(e)});return[[\\\"CINITY 3D\\\",\\\"CINITY 2D\\\"],[\\\"涓浗宸ㄥ箷 3D\\\",\\\"涓浗宸ㄥ箷 2D\\\"],[\\\"鏉滄瘮褰遍櫌 3D\\\",\\\"鏉滄瘮褰遍櫌 2D\\\"],[\\\"IMAX 3D\\\",\\\"IMAX 2D\\\"]].forEach(function(e){var n=c(e,2),o=n[0],r=n[1];t.includes(o)&&t.includes(r)&&(t=t.filter(function(e){return e!==r}))}),t}function $(e){return e.replace(/涓浗宸ㄥ箷(\\\\d)D/,\\\"CGS 涓浗宸ㄥ箷\\\").replace(/鏉滄瘮褰遍櫌 (\\\\d)D/,\\\"Dolby Cinema\\\").replace(/IMAX /,\\\"\\\")}function B(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=R(e).map(function(e){return{isIMAX:e.indexOf(\\\"IMAX\\\")>-1,tagOrigin:e,tag:e.replace(/IMAX /,\\\"\\\"),abbTag:$(e)}});return n>0?t.slice(0,n):t}function U(e){return R(e)[0]||\\\"\\\"}function V(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return t=t||n,o&&e&&(e=e.replace(/^https?\\\\:/,\\\"\\\")),/\\\\@/.test(e)?e:/meituan.net/.test(e)?e.endsWith(\\\".gif\\\")?e.replace(/(\\\\w+.meituan.net)(\\\\/\\\\w+\\\\/)/,\\\"$1/\\\".concat(n,\\\".\\\").concat(t,\\\"$2\\\")):e=\\\"\\\".concat(e,\\\"@\\\").concat(n,\\\"w_\\\").concat(t,\\\"h_1c_1e\\\"):e&&e.match(\\\"pipi.cn\\\")?e.includes(\\\"?\\\")&&r?e.split(\\\"?\\\")[0]+\\\"?imageMogr2/crop/\\\"+n+\\\"x\\\"+t+\\\"/gravity/center\\\":e+\\\"?imageMogr2/crop/\\\"+n+\\\"x\\\"+t+\\\"/gravity/center\\\":e}},23:function(e,n){e.exports=common_dll_4cbe3d117a822507aede},24:function(e,n){e.exports=vendor_dll_4cbe3d117a822507aede},26:function(e,n,t){e.exports=t(24)(49)},3:function(e,n,t){e.exports=t(23)(381)},34:function(e,n,t){\\\"use strict\\\";function o(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map(function(e){switch(/\\\\[object (\\\\w+)\\\\]/.exec({}.toString.call(e))[1]){case\\\"Array\\\":return e;case\\\"String\\\":return[e];case\\\"Object\\\":return Object.keys(e).filter(function(n){return e[n]})}return[]}).reduce(function(e,n){return e.concat(n)},[]).filter(function(e){return!!e}).reduce(function(e,n){return e.indexOf(n)<0&&e.push(n),e},[]).join(\\\" \\\")}t.d(n,\\\"a\\\",function(){return o})},35:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"a\\\",function(){return m});t(85);var o=t(3),r=t(25),i=t(40),a=t.n(i),c=t(15),u=t(52);t(135);function s(e){return(s=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function l(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var m=function(e){function n(){var e,o,i,c;!function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];if(i=this,c=(e=f(n)).call.apply(e,[this].concat(l)),(o=!c||\\\"object\\\"!==s(c)&&\\\"function\\\"!=typeof c?p(i):c).wechatReady=function(){},o.wechatShareDone=function(){},Object.defineProperty(p(o),\\\"context\\\",{set:function(e){e.$eventEmitter||(e.$eventEmitter=new a.a),this.__context=e},get:function(){return this.__context}}),\\\"undefined\\\"!=typeof window){var m=t(86).default,h={},y=document.getElementsByTagName(\\\"meta\\\");[].slice.call(y).filter(function(e){return/^share/.test(e.name)}).forEach(function(e){h[e.name]=e.content});window._isWspP=o.isWechatSmallProgram(window.AppData.$browser).then(function(e){return!e||e&&o.props.needInitWechatSdk?(/micromessenger/i.test(window.navigator.userAgent)&&!window.wx&&(window.wx=t(46)),function(){o.wxReady=m({query:{channelId:window.AppData.$channelId},offiaccount:o.props.offiaccount||o.offiaccount,apis:[\\\"onMenuShareTimeline\\\",\\\"onMenuShareAppMessage\\\",\\\"onMenuShareQQ\\\",\\\"onMenuShareQZone\\\",\\\"hideMenuItems\\\",\\\"startRecord\\\",\\\"stopRecord\\\",\\\"playVoice\\\",\\\"uploadVoice\\\",\\\"getLocation\\\",\\\"onVoicePlayEnd\\\",\\\"pauseVoice\\\",\\\"launchApplication\\\",\\\"openLocation\\\"],openTagList:[\\\"wx-open-launch-weapp\\\"]});var e=window.AppData,n=e.user,t=void 0===n?{}:n,i=e.$user,a=void 0===i?{}:i,c=e.userInfo,u=void 0===c?{}:c,s=e.$openShare,l=void 0===s||s,f=t.userCode||a.userCode||u.userCode;o.wxReady(function(e){if(l){setTimeout(function(){o.context.$eventEmitter.emit(\\\"wechatReady\\\",e)},0),h[\\\"share:wechat:message:title\\\"]=h[\\\"share:wechat:message:title\\\"]||document.title||h[\\\"share:wechat:message:desc\\\"],h[\\\"share:wechat:timeline:title\\\"]=h[\\\"share:wechat:timeline:title\\\"]||document.title||h[\\\"share:wechat:message:desc\\\"];var n=window.location.href,t=Object(r.linkHandle)(h[\\\"share:wechat:message:link\\\"]||n,f),i=Object(r.linkHandle)(h[\\\"share:wechat:timeline:link\\\"]||n,f);e.onMenuShareAppMessage({title:h[\\\"share:wechat:message:title\\\"],desc:h[\\\"share:wechat:message:desc\\\"],imgUrl:h[\\\"share:wechat:message:icon\\\"],link:t,success:o.wechatShareDone.bind(p(o))}),e.onMenuShareTimeline({title:h[\\\"share:wechat:timeline:title\\\"],imgUrl:h[\\\"share:wechat:timeline:icon\\\"],link:i,success:o.wechatShareDone.bind(p(o))}),o.wechatReady.call(p(o),e)}else e.hideMenuItems({menuList:[\\\"menuItem:share:appMessage\\\",\\\"menuItem:share:timeline\\\"]})})}(),!1):(window.wx=t(46),!0)})}return o}var i,u,m;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(n,c[\\\"b\\\"]),i=n,(u=[{key:\\\"isIphoneX\\\",value:function(){return\\\"ios\\\"===this.props.$browser.platform&&(375===window.screen.width&&812===window.screen.height||414===window.screen.width&&896===window.screen.height)}},{key:\\\"getFingerprint\\\",value:function(e){var n=this,t=this.props.browser;return this._fingerprint?Promise.resolve({fingerprint:this._fingerprint}):new Promise(function(r,i){\\\"maoyan\\\"===t.name||\\\"meituan\\\"===t.name?(o.ready(function(){o.getFingerprint({success:function(e){n._fingerprint=e.fingerprint,r({fingerprint:e.fingerprint})}})}),setTimeout(function(){r({h5Fingerprint:window.Rohr_Opt.reload(e)})},3e3)):r({h5Fingerprint:window.Rohr_Opt.reload(e)})})}},{key:\\\"customBrowserSchema\\\",value:function(e,n){return n[e]||n.maoyan||\\\"\\\"}}])&&l(i.prototype,u),m&&l(i,m),n}();m.renderToDom=u.a},37:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"a\\\",function(){return s}),t.d(n,\\\"b\\\",function(){return f});var o=t(2),r=t.n(o),i=t(12),a=t.n(i),c=t(4);function u(e,n,t,o,r,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(o,r)}function s(e){return l.apply(this,arguments)}function l(){var e;return e=r.a.mark(function e(n){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=\\\"/api/mmdb/open/tg/pre.json?\\\".concat(a.a.stringify(n,{encode:!1})),e.next=3,c.a.post(t).then(function(e){var n,t;return(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.success)?null===(t=e.data.data)||void 0===t?void 0:t.pi:\\\"\\\"}).catch(function(e){return\\\"\\\"});case 3:return e.abrupt(\\\"return\\\",e.sent);case 4:case\\\"end\\\":return e.stop()}},e)}),(l=function(){var n=this,t=arguments;return new Promise(function(o,r){var i=e.apply(n,t);function a(e){u(i,o,r,a,c,\\\"next\\\",e)}function c(e){u(i,o,r,a,c,\\\"throw\\\",e)}a(void 0)})}).apply(this,arguments)}function f(e){var n,t;n=e,(t=document.createElement(\\\"textarea\\\")).value=n,t.setAttribute(\\\"readonly\\\",\\\"readonly\\\"),document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand(\\\"copy\\\"),document.body.removeChild(t)}},391:function(e,n,t){},4:function(e,n,t){\\\"use strict\\\";(function(e){t.d(n,\\\"b\\\",function(){return S});var o=t(2),r=t.n(o),i=t(5),a=t.n(i),c=t(12),u=t.n(c),s=t(59),l=t(107);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(t,!0).forEach(function(n){d(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function m(e,n,t,o,r,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(o,r)}function h(e){return function(){var n=this,t=arguments;return new Promise(function(o,r){var i=e.apply(n,t);function a(e){m(i,o,r,a,c,\\\"next\\\",e)}function c(e){m(i,o,r,a,c,\\\"throw\\\",e)}a(void 0)})}}var y,v,g,w,b=\\\"\\\";\\\"browser\\\"===e.title&&(b=null!==(y=null===(v=window)||void 0===v?void 0:null===(g=v.AppData)||void 0===g?void 0:null===(w=g.$config)||void 0===w?void 0:w.urlPrefix)&&void 0!==y?y:\\\"\\\");function O(){return(O=h(r.a.mark(function e(n){var t,o,i,c,l,f,d,m,h,y,v,g,w;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==n.isRisk){e.next=20;break}return t=n.fingerprintParamName,o=void 0===t?\\\"fingerprint\\\":t,i=n.method,c=void 0===i?\\\"get\\\":i,l=n.params,f=void 0===l?{}:l,d=n.data,m=void 0===d?{}:d,h=n.headers,y=void 0===h?{}:h,(v=\\\"string\\\"==typeof m)&&(m=u.a.parse(m)),g=\\\"\\\"!==a()(f,\\\"h5Fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(m,\\\"h5Fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(y,\\\"h5Fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(f,\\\"fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(m,\\\"fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(y,\\\"fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(f,\\\"X-Fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(m,\\\"X-Fingerprint\\\",\\\"\\\")||\\\"\\\"!==a()(y,\\\"X-Fingerprint\\\",\\\"\\\"),e.next=7,Object(s.GetRiskParam)({url:g?\\\"\\\":n.url});case 7:w=e.sent,n.headers.token||(n.headers.token=w.token),n.headers.channelId||(n.headers.channelId=w.channelId),n.headers[o]||g||(n.headers[o]=w.fingerprint),n.bodyFingerprint&&!m[o]&&(m[o]=w.fingerprint),delete w.token,delete w.channelId,delete w.fingerprint,n.isDeleteHeaderFingerprint&&(delete n.headers.fingerprint,delete n.headers.h5Fingerprint,delete n.headers[\\\"X-Fingerprint\\\"]),n.isDeleteBodyFingerprint&&(delete m.fingerprint,delete m.h5Fingerprint,delete m[\\\"X-Fingerprint\\\"]),n.isDeleteParamsFingerprint&&(delete f.fingerprint,delete f.h5Fingerprint,delete f[\\\"X-Fingerprint\\\"]),\\\"get\\\"===c?n.params=p({},w,{},f):\\\"{}\\\"!==JSON.stringify(f)&&\\\"{}\\\"===JSON.stringify(m)?n.params=p({},w,{},f):n.data=p({},w,{},m),v&&(n.data=u.a.stringify(n.data));case 20:return e.abrupt(\\\"return\\\",n);case 21:case\\\"end\\\":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=h(r.a.mark(function e(n){var t,o,i,a,c,s,l,f,d,m,h,y,v,g,w;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.url,o=n.params,i=void 0===o?{}:o,a=n.data,c=void 0===a?{}:a,-1!==t.indexOf(\\\"/mmdb/v1/wish.json\\\")&&(f=null!==(s=null===(l=window)||void 0===l?void 0:l.AppData)&&void 0!==s?s:{},d=f.$browser,m=void 0===d?{}:d,h=f.$locate,y=void 0===h?{}:h,v=f.$uuid,(g=\\\"string\\\"==typeof c)&&(c=u.a.parse(c)),w={},-1!==t.indexOf(\\\"clientType\\\")||i.clientType||c.clientType||(w.clientType=m.platform||\\\"touch\\\"),-1!==t.indexOf(\\\"version_name\\\")||i.version_name||c.version_name||(w.version_name=m.version||m.platformVersion||\\\"\\\"),-1!==t.indexOf(\\\"uuid\\\")||i.uuid||c.uuid||(w.uuid=v),-1!==t.indexOf(\\\"ci\\\")||i.ci||c.ci||(w.ci=y.id||1),n.params=p({},i,{},w),g&&(n.data=u.a.stringify(c))),e.abrupt(\\\"return\\\",n);case 3:case\\\"end\\\":return e.stop()}},e)}))).apply(this,arguments)}var x=l.a.create();x.defaults.baseURL=b,x.interceptors.request.use(function(e){return O.apply(this,arguments)}),x.interceptors.request.use(function(e){return k.apply(this,arguments)});var S=function(e,n){var t=n.timeout,o=n.callback,r=void 0===o?\\\"callback\\\":o;return new Promise(function(n,o){var i=\\\"jsonp\\\".concat(Math.random().toString(36).substr(-8));window[i]=function(e){console.log(e),n(e),delete window[i]},function(e,n){var t=document.createElement(\\\"script\\\");t.src=e,t.onload=n,document.head.appendChild(t)}(\\\"\\\".concat(e).concat(-1===e.indexOf(\\\"?\\\")?\\\"?\\\":\\\"&\\\").concat(r,\\\"=\\\").concat(i)),t&&setTimeout(function(){o(new Error(\\\"timeout\\\"))},t)})};n.a=x}).call(this,t(14))},408:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"a\\\",function(){return f});var o=t(0),r=t.n(o),i=t(13);function a(e){return(a=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,n){return!n||\\\"object\\\"!==a(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var f=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),(t=u(this,s(n).call(this,e))).toggleNavList=function(e){e.nativeEvent.stopImmediatePropagation(),t.setState(function(e){return{navShow:!e.navShow}})},t.hideNavList=function(){t.setState({navShow:!1})},t.state={navShow:!1},t}var t,o,a;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}(n,i[\\\"a\\\"]),t=n,(o=[{key:\\\"componentDidMount\\\",value:function(){document.addEventListener(\\\"click\\\",this.hideNavList)}},{key:\\\"render\\\",value:function(){var e=this.props,n=e.title,t=e.isBack,o=e.backBid,i=e.backLab,a=this.state.navShow,c=this.props.back,u=this.context,s=u.$title,l=u.$browser,f=void 0===l?{}:l,p=u.channel,d=void 0===p?{}:p,m=u.$back,h=u.$host,y=void 0===h?{}:h,v=u.rsSubChannel,g=y.domains.m,w=[\\\"1000\\\"],b=!(\\\"webview\\\"===f.type&&\\\"qq\\\"!==f.name&&\\\"ICBC\\\"!==f.name&&\\\"abchina\\\"!==f.name)||w.includes(v),O=\\\"canary\\\"===d.channelName;return w.includes(v)&&(c=\\\"javascript: history.go(-1)\\\"),r.a.createElement(\\\"div\\\",{className:\\\"navbar-wrap\\\"},b&&r.a.createElement(\\\"div\\\",{className:\\\"Navbarold \\\".concat(\\\"abchina\\\"===f.name?\\\"fixbangs\\\":\\\"\\\")},r.a.createElement(\\\"nav\\\",null,t?r.a.createElement(\\\"a\\\",{className:\\\"navbar-back\\\",href:c||m,\\\"data-bid\\\":o,\\\"data-lab\\\":i}):null,r.a.createElement(\\\"div\\\",{className:\\\"navbar-title \\\".concat(d&&[\\\"hwfastapp\\\",\\\"hwatomicapp\\\"].includes(d.channelName)?\\\"hwfastapp-pad\\\":\\\"\\\")},n||s||\\\"鐚溂鐢靛奖\\\"),O&&r.a.createElement(\\\"div\\\",{className:\\\"nav-btn\\\",onClick:this.toggleNavList},r.a.createElement(\\\"img\\\",{className:\\\"nav-icon\\\",src:\\\"//p0.meituan.net/scarlett/f05f61e7a8f3f45fd071c068d7a26870356.png\\\",alt:\\\"nav-icon\\\"})))),a&&r.a.createElement(\\\"div\\\",{className:\\\"nav-list\\\"},r.a.createElement(\\\"div\\\",{className:\\\"nav-item\\\"},r.a.createElement(\\\"a\\\",{href:\\\"//\\\".concat(g,\\\"/\\\")},\\\"棣栭〉\\\")),r.a.createElement(\\\"div\\\",{className:\\\"nav-item\\\"},r.a.createElement(\\\"a\\\",{href:\\\"//\\\".concat(g,\\\"/board/7\\\")},\\\"姒滃崟\\\")),r.a.createElement(\\\"div\\\",{className:\\\"nav-item\\\"},r.a.createElement(\\\"a\\\",{href:\\\"//\\\".concat(g,\\\"/information\\\")},\\\"鐑偣\\\")),r.a.createElement(\\\"div\\\",{className:\\\"nav-item\\\"},r.a.createElement(\\\"a\\\",{href:\\\"//\\\".concat(g,\\\"/mmall/store\\\")},\\\"鍟嗗煄\\\"))))}}])&&c(t.prototype,o),a&&c(t,a),n}();f.defaultProps={isBack:!0},t(538)},41:function(e,n,t){e.exports=t(23)(112)},46:function(e,n,t){var o,r;function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}r=window,void 0===(o=function(){return function(e,n){function t(n,t,o){e.WeixinJSBridge?WeixinJSBridge.invoke(n,r(t),function(e){c(n,e,o)}):s(n,o)}function o(n,t,o){e.WeixinJSBridge?WeixinJSBridge.on(n,function(e){o&&o.trigger&&o.trigger(e),c(n,e,t)}):s(n,o||t)}function r(e){return(e=e||{}).appId=E.appId,e.verifyAppId=E.appId,e.verifySignType=\\\"sha1\\\",e.verifyTimestamp=E.timestamp+\\\"\\\",e.verifyNonceStr=E.nonceStr,e.verifySignature=E.signature,e}function a(e){return{timeStamp:e.timestamp+\\\"\\\",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||\\\"SHA1\\\"}}function c(e,n,t){\\\"openEnterpriseChat\\\"==e&&(n.errCode=n.err_code),delete n.err_code,delete n.err_desc,delete n.err_detail;var o=n.errMsg;o||(o=n.err_msg,delete n.err_msg,o=function(e,n){var t=e,o=y[t];o&&(t=o);var r=\\\"ok\\\";if(n){var i=n.indexOf(\\\":\\\");\\\"confirm\\\"==(r=n.substring(i+1))&&(r=\\\"ok\\\"),\\\"failed\\\"==r&&(r=\\\"fail\\\"),-1!=r.indexOf(\\\"failed_\\\")&&(r=r.substring(7)),-1!=r.indexOf(\\\"fail_\\\")&&(r=r.substring(5)),\\\"access denied\\\"!=(r=(r=r.replace(/_/g,\\\" \\\")).toLowerCase())&&\\\"no permission to execute\\\"!=r||(r=\\\"permission denied\\\"),\\\"config\\\"==t&&\\\"function not exist\\\"==r&&(r=\\\"ok\\\"),\\\"\\\"==r&&(r=\\\"fail\\\")}return n=t+\\\":\\\"+r}(e,o),n.errMsg=o),(t=t||{})._complete&&(t._complete(n),delete t._complete),o=n.errMsg||\\\"\\\",E.debug&&!t.isInnerInvoke&&alert(JSON.stringify(n));var r=o.indexOf(\\\":\\\");switch(o.substring(r+1)){case\\\"ok\\\":t.success&&t.success(n);break;case\\\"cancel\\\":t.cancel&&t.cancel(n);break;default:t.fail&&t.fail(n)}t.complete&&t.complete(n)}function u(e){if(e){for(var n=0,t=e.length;n<t;++n){var o=e[n],r=h[o];r&&(e[n]=r)}return e}}function s(e,n){if(!(!E.debug||n&&n.isInnerInvoke)){var t=y[e];t&&(e=t),n&&n._complete&&delete n._complete,console.log('\\\"'+e+'\\\",',n||\\\"\\\")}}function l(){return(new Date).getTime()}function f(n){x&&(e.WeixinJSBridge?n():v.addEventListener&&v.addEventListener(\\\"WeixinJSBridgeReady\\\",n,!1))}function p(){C.invoke||(C.invoke=function(n,t,o){e.WeixinJSBridge&&WeixinJSBridge.invoke(n,r(t),o)},C.on=function(n,t){e.WeixinJSBridge&&WeixinJSBridge.on(n,t)})}function d(e){if(\\\"string\\\"==typeof e&&e.length>0){var n=e.split(\\\"?\\\")[0],t=e.split(\\\"?\\\")[1];return n+=\\\".html\\\",void 0!==t?n+\\\"?\\\"+t:n}}if(!e.jWeixin){var m,h={config:\\\"preVerifyJSAPI\\\",onMenuShareTimeline:\\\"menu:share:timeline\\\",onMenuShareAppMessage:\\\"menu:share:appmessage\\\",onMenuShareQQ:\\\"menu:share:qq\\\",onMenuShareWeibo:\\\"menu:share:weiboApp\\\",onMenuShareQZone:\\\"menu:share:QZone\\\",previewImage:\\\"imagePreview\\\",getLocation:\\\"geoLocation\\\",openProductSpecificView:\\\"openProductViewWithPid\\\",addCard:\\\"batchAddCard\\\",openCard:\\\"batchViewCard\\\",chooseWXPay:\\\"getBrandWCPayRequest\\\",openEnterpriseRedPacket:\\\"getRecevieBizHongBaoRequest\\\",startSearchBeacons:\\\"startMonitoringBeacons\\\",stopSearchBeacons:\\\"stopMonitoringBeacons\\\",onSearchBeacons:\\\"onBeaconsInRange\\\",consumeAndShareCard:\\\"consumedShareCard\\\",openAddress:\\\"editAddress\\\"},y=function(){var e={};for(var n in h)e[h[n]]=n;return e}(),v=e.document,g=v.title,w=navigator.userAgent.toLowerCase(),b=navigator.platform.toLowerCase(),O=!(!b.match(\\\"mac\\\")&&!b.match(\\\"win\\\")),k=-1!=w.indexOf(\\\"wxdebugger\\\"),x=-1!=w.indexOf(\\\"micromessenger\\\"),S=-1!=w.indexOf(\\\"android\\\"),_=-1!=w.indexOf(\\\"iphone\\\")||-1!=w.indexOf(\\\"ipad\\\"),I=function(){var e=w.match(/micromessenger\\\\/(\\\\d+\\\\.\\\\d+\\\\.\\\\d+)/)||w.match(/micromessenger\\\\/(\\\\d+\\\\.\\\\d+)/);return e?e[1]:\\\"\\\"}(),P={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},j={version:1,appId:\\\"\\\",initTime:0,preVerifyTime:0,networkType:\\\"\\\",isPreVerifyOk:1,systemType:_?1:S?2:-1,clientVersion:I,url:encodeURIComponent(location.href)},E={},A={_completes:[]},T={state:0,data:{}};f(function(){P.initEndTime=l()});var M=!1,N=[],C=(i(m={config:function(e){E=e,s(\\\"config\\\",e);var n=!1!==E.check;f(function(){if(n)t(h.config,{verifyJsApiList:u(E.jsApiList)},function(){A._complete=function(e){P.preVerifyEndTime=l(),T.state=1,T.data=e},A.success=function(e){j.isPreVerifyOk=0},A.fail=function(e){A._fail?A._fail(e):T.state=-1};var e=A._completes;return e.push(function(){!function(e){if(!(O||k||E.debug||I<\\\"6.0.2\\\"||j.systemType<0)){var n=new Image;j.appId=E.appId,j.initTime=P.initEndTime-P.initStartTime,j.preVerifyTime=P.preVerifyEndTime-P.preVerifyStartTime,C.getNetworkType({isInnerInvoke:!0,success:function(e){j.networkType=e.networkType;var t=\\\"https://open.weixin.qq.com/sdk/report?v=\\\"+j.version+\\\"&o=\\\"+j.isPreVerifyOk+\\\"&s=\\\"+j.systemType+\\\"&c=\\\"+j.clientVersion+\\\"&a=\\\"+j.appId+\\\"&n=\\\"+j.networkType+\\\"&i=\\\"+j.initTime+\\\"&p=\\\"+j.preVerifyTime+\\\"&u=\\\"+j.url;n.src=t}})}}()}),A.complete=function(n){for(var t=0,o=e.length;t<o;++t)e[t]();A._completes=[]},A}()),P.preVerifyStartTime=l();else{T.state=1;for(var e=A._completes,o=0,r=e.length;o<r;++o)e[o]();A._completes=[]}}),p()},ready:function(e){0!=T.state?e():(A._completes.push(e),!x&&E.debug&&e())},error:function(e){I<\\\"6.0.2\\\"||(-1==T.state?e(T.data):A._fail=e)},checkJsApi:function(e){t(\\\"checkJsApi\\\",{jsApiList:u(e.jsApiList)},(e._complete=function(e){if(S){var n=e.checkResult;n&&(e.checkResult=JSON.parse(n))}e=function(e){var n=e.checkResult;for(var t in n){var o=y[t];o&&(n[o]=n[t],delete n[t])}return e}(e)},e))},onMenuShareTimeline:function(e){o(h.onMenuShareTimeline,{complete:function(){t(\\\"shareTimeline\\\",{title:e.title||g,desc:e.title||g,img_url:e.imgUrl||\\\"\\\",link:e.link||location.href,type:e.type||\\\"link\\\",data_url:e.dataUrl||\\\"\\\"},e)}},e)},onMenuShareAppMessage:function(e){o(h.onMenuShareAppMessage,{complete:function(n){\\\"favorite\\\"===n.scene?t(\\\"sendAppMessage\\\",{title:e.title||g,desc:e.desc||\\\"\\\",link:e.link||location.href,img_url:e.imgUrl||\\\"\\\",type:e.type||\\\"link\\\",data_url:e.dataUrl||\\\"\\\"}):t(\\\"sendAppMessage\\\",{title:e.title||g,desc:e.desc||\\\"\\\",link:e.link||location.href,img_url:e.imgUrl||\\\"\\\",type:e.type||\\\"link\\\",data_url:e.dataUrl||\\\"\\\"},e)}},e)},onMenuShareQQ:function(e){o(h.onMenuShareQQ,{complete:function(){t(\\\"shareQQ\\\",{title:e.title||g,desc:e.desc||\\\"\\\",img_url:e.imgUrl||\\\"\\\",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){o(h.onMenuShareWeibo,{complete:function(){t(\\\"shareWeiboApp\\\",{title:e.title||g,desc:e.desc||\\\"\\\",img_url:e.imgUrl||\\\"\\\",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){o(h.onMenuShareQZone,{complete:function(){t(\\\"shareQZone\\\",{title:e.title||g,desc:e.desc||\\\"\\\",img_url:e.imgUrl||\\\"\\\",link:e.link||location.href},e)}},e)},updateTimelineShareData:function(e){t(\\\"updateTimelineShareData\\\",{title:e.title,link:e.link,imgUrl:e.imgUrl},e)},updateAppMessageShareData:function(e){t(\\\"updateAppMessageShareData\\\",{title:e.title,desc:e.desc,link:e.link,imgUrl:e.imgUrl},e)},startRecord:function(e){t(\\\"startRecord\\\",{},e)},stopRecord:function(e){t(\\\"stopRecord\\\",{},e)},onVoiceRecordEnd:function(e){o(\\\"onVoiceRecordEnd\\\",e)},playVoice:function(e){t(\\\"playVoice\\\",{localId:e.localId},e)},pauseVoice:function(e){t(\\\"pauseVoice\\\",{localId:e.localId},e)},stopVoice:function(e){t(\\\"stopVoice\\\",{localId:e.localId},e)},onVoicePlayEnd:function(e){o(\\\"onVoicePlayEnd\\\",e)},uploadVoice:function(e){t(\\\"uploadVoice\\\",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){t(\\\"downloadVoice\\\",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){t(\\\"translateVoice\\\",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){t(\\\"chooseImage\\\",{scene:\\\"1|2\\\",count:e.count||9,sizeType:e.sizeType||[\\\"original\\\",\\\"compressed\\\"],sourceType:e.sourceType||[\\\"album\\\",\\\"camera\\\"]},(e._complete=function(e){if(S){var n=e.localIds;try{n&&(e.localIds=JSON.parse(n))}catch(e){}}},e))},getLocation:function(e){},previewImage:function(e){t(h.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){t(\\\"uploadImage\\\",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){t(\\\"downloadImage\\\",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getLocalImgData:function(e){!1===M?(M=!0,t(\\\"getLocalImgData\\\",{localId:e.localId},(e._complete=function(e){if(M=!1,N.length>0){var n=N.shift();wx.getLocalImgData(n)}},e))):N.push(e)},getNetworkType:function(e){t(\\\"getNetworkType\\\",{},(e._complete=function(e){e=function(e){var n=e.errMsg;e.errMsg=\\\"getNetworkType:ok\\\";var t=e.subtype;if(delete e.subtype,t)e.networkType=t;else{var o=n.indexOf(\\\":\\\"),r=n.substring(o+1);switch(r){case\\\"wifi\\\":case\\\"edge\\\":case\\\"wwan\\\":e.networkType=r;break;default:e.errMsg=\\\"getNetworkType:fail\\\"}}return e}(e)},e))},openLocation:function(e){t(\\\"openLocation\\\",{latitude:e.latitude,longitude:e.longitude,name:e.name||\\\"\\\",address:e.address||\\\"\\\",scale:e.scale||28,infoUrl:e.infoUrl||\\\"\\\"},e)}},\\\"getLocation\\\",function(e){e=e||{},t(h.getLocation,{type:e.type||\\\"wgs84\\\"},(e._complete=function(e){delete e.type},e))}),i(m,\\\"hideOptionMenu\\\",function(e){t(\\\"hideOptionMenu\\\",{},e)}),i(m,\\\"showOptionMenu\\\",function(e){t(\\\"showOptionMenu\\\",{},e)}),i(m,\\\"closeWindow\\\",function(e){t(\\\"closeWindow\\\",{},e=e||{})}),i(m,\\\"hideMenuItems\\\",function(e){t(\\\"hideMenuItems\\\",{menuList:e.menuList},e)}),i(m,\\\"showMenuItems\\\",function(e){t(\\\"showMenuItems\\\",{menuList:e.menuList},e)}),i(m,\\\"hideAllNonBaseMenuItem\\\",function(e){t(\\\"hideAllNonBaseMenuItem\\\",{},e)}),i(m,\\\"showAllNonBaseMenuItem\\\",function(e){t(\\\"showAllNonBaseMenuItem\\\",{},e)}),i(m,\\\"scanQRCode\\\",function(e){t(\\\"scanQRCode\\\",{needResult:(e=e||{}).needResult||0,scanType:e.scanType||[\\\"qrCode\\\",\\\"barCode\\\"]},(e._complete=function(e){if(_){var n=e.resultStr;if(n){var t=JSON.parse(n);e.resultStr=t&&t.scan_code&&t.scan_code.scan_result}}},e))}),i(m,\\\"openAddress\\\",function(e){t(h.openAddress,{},(e._complete=function(e){e=function(e){return e.postalCode=e.addressPostalCode,delete e.addressPostalCode,e.provinceName=e.proviceFirstStageName,delete e.proviceFirstStageName,e.cityName=e.addressCitySecondStageName,delete e.addressCitySecondStageName,e.countryName=e.addressCountiesThirdStageName,delete e.addressCountiesThirdStageName,e.detailInfo=e.addressDetailInfo,delete e.addressDetailInfo,e}(e)},e))}),i(m,\\\"openProductSpecificView\\\",function(e){t(h.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)}),i(m,\\\"addCard\\\",function(e){for(var n=e.cardList,o=[],r=0,i=n.length;r<i;++r){var a=n[r],c={card_id:a.cardId,card_ext:a.cardExt};o.push(c)}t(h.addCard,{card_list:o},(e._complete=function(e){var n=e.card_list;if(n){for(var t=0,o=(n=JSON.parse(n)).length;t<o;++t){var r=n[t];r.cardId=r.card_id,r.cardExt=r.card_ext,r.isSuccess=!!r.is_succ,delete r.card_id,delete r.card_ext,delete r.is_succ}e.cardList=n,delete e.card_list}},e))}),i(m,\\\"chooseCard\\\",function(e){t(\\\"chooseCard\\\",{app_id:E.appId,location_id:e.shopId||\\\"\\\",sign_type:e.signType||\\\"SHA1\\\",card_id:e.cardId||\\\"\\\",card_type:e.cardType||\\\"\\\",card_sign:e.cardSign,time_stamp:e.timestamp+\\\"\\\",nonce_str:e.nonceStr},(e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e))}),i(m,\\\"openCard\\\",function(e){for(var n=e.cardList,o=[],r=0,i=n.length;r<i;++r){var a=n[r],c={card_id:a.cardId,code:a.code};o.push(c)}t(h.openCard,{card_list:o},e)}),i(m,\\\"consumeAndShareCard\\\",function(e){t(h.consumeAndShareCard,{consumedCardId:e.cardId,consumedCode:e.code},e)}),i(m,\\\"chooseWXPay\\\",function(e){t(h.chooseWXPay,a(e),e)}),i(m,\\\"openEnterpriseRedPacket\\\",function(e){t(h.openEnterpriseRedPacket,a(e),e)}),i(m,\\\"startSearchBeacons\\\",function(e){t(h.startSearchBeacons,{ticket:e.ticket},e)}),i(m,\\\"stopSearchBeacons\\\",function(e){t(h.stopSearchBeacons,{},e)}),i(m,\\\"onSearchBeacons\\\",function(e){o(h.onSearchBeacons,e)}),i(m,\\\"openEnterpriseChat\\\",function(e){t(\\\"openEnterpriseChat\\\",{useridlist:e.userIds,chatname:e.groupName},e)}),i(m,\\\"launchMiniProgram\\\",function(e){t(\\\"launchMiniProgram\\\",{targetAppId:e.targetAppId,path:d(e.path),envVersion:e.envVersion},e)}),i(m,\\\"miniProgram\\\",{navigateBack:function(e){e=e||{},f(function(){t(\\\"invokeMiniProgramAPI\\\",{name:\\\"navigateBack\\\",arg:{delta:e.delta||1}},e)})},navigateTo:function(e){f(function(){t(\\\"invokeMiniProgramAPI\\\",{name:\\\"navigateTo\\\",arg:{url:e.url}},e)})},redirectTo:function(e){f(function(){t(\\\"invokeMiniProgramAPI\\\",{name:\\\"redirectTo\\\",arg:{url:e.url}},e)})},switchTab:function(e){f(function(){t(\\\"invokeMiniProgramAPI\\\",{name:\\\"switchTab\\\",arg:{url:e.url}},e)})},reLaunch:function(e){f(function(){t(\\\"invokeMiniProgramAPI\\\",{name:\\\"reLaunch\\\",arg:{url:e.url}},e)})},postMessage:function(e){f(function(){t(\\\"invokeMiniProgramAPI\\\",{name:\\\"postMessage\\\",arg:e.data||{}},e)})},getEnv:function(n){f(function(){n({miniprogram:\\\"miniprogram\\\"===e.__wxjs_environment})})}}),m),L=1,D={};return v.addEventListener(\\\"error\\\",function(e){if(!S){var n=e.target,t=n.tagName,o=n.src;if((\\\"IMG\\\"==t||\\\"VIDEO\\\"==t||\\\"AUDIO\\\"==t||\\\"SOURCE\\\"==t)&&-1!=o.indexOf(\\\"wxlocalresource://\\\")){e.preventDefault(),e.stopPropagation();var r=n[\\\"wx-id\\\"];if(r||(r=L++,n[\\\"wx-id\\\"]=r),D[r])return;D[r]=!0,wx.ready(function(){wx.getLocalImgData({localId:o,success:function(e){n.src=e.localData}})})}}},!0),v.addEventListener(\\\"load\\\",function(e){if(!S){var n=e.target,t=n.tagName;if(n.src,\\\"IMG\\\"==t||\\\"VIDEO\\\"==t||\\\"AUDIO\\\"==t||\\\"SOURCE\\\"==t){var o=n[\\\"wx-id\\\"];o&&(D[o]=!1)}}},!0),n&&(e.wx=e.jWeixin=C),C}}(r)}.call(n,t,n,e))||(e.exports=o)},51:function(e,n,t){\\\"use strict\\\";(function(e,o){t.d(n,\\\"a\\\",function(){return _});var r=t(2),i=t.n(r),a=t(0),c=t.n(a),u=t(64),s=t.n(u),l=t(65),f=t(3),p=t(19),d=t.n(p),m=t(33),h=t.n(m),y=t(16),v=t.n(y),g=t(15);function w(e){return(w=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function b(e,n,t,o,r,i,a){try{var c=e[i](a),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(o,r)}function O(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}function S(e,n){return(S=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var _=function(n){function t(){var n,o;!function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];(o=function(e,n){return!n||\\\"object\\\"!==w(n)&&\\\"function\\\"!=typeof n?x(e):n}(this,(n=k(t)).call.apply(n,[this].concat(i)))).locationToHref=v.a.locationToHref,o.handleUrl=v.a.handleUrl;var c=x(o);return\\\"browser\\\"==e.title&&(null==Array.prototype.includes&&(Array.prototype.includes=function(e,n){if(null==this)throw new TypeError('\\\"this\\\" is null or not defined');var t=Object(this),o=t.length>>>0;if(0===o)return!1;var r,i,a=0|n,c=Math.max(a>=0?a:o-Math.abs(a),0);for(;c<o;){if((r=t[c])===(i=e)||\\\"number\\\"==typeof r&&\\\"number\\\"==typeof i&&isNaN(r)&&isNaN(i))return!0;c++}return!1}),document.addEventListener(\\\"DOMContentLoaded\\\",function(){c.domReady()})),o}var r,a,u,p,m;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&S(e,n)}(t,c.a.Component),r=t,a=[{key:\\\"render\\\",value:function(){return c.a.createElement(\\\"h1\\\",null,\\\"Hello World\\\")}},{key:\\\"meta\\\",value:function(e){var n={},t=Array.prototype.slice,o=document.getElementsByTagName(\\\"meta\\\");return t.call(o).filter(function(e){return~[\\\"csrf\\\",\\\"timestamp\\\",\\\"browser\\\"].indexOf(e.name)}).forEach(function(e){n[e.name]=e.content}),e?n[e]:n}},{key:\\\"log\\\",value:function(){var e;(e=console).log.apply(e,arguments)}},{key:\\\"throwError\\\",value:function(e,n){}},{key:\\\"domReady\\\",value:function(){}},{key:\\\"openApp\\\",value:function(e){t.triggerApp(e)}},{key:\\\"clientLogin\\\",value:function(e,n,t){switch(t=t||window.location.href,e){case n.dpmmweb:case n.dpqqwallet:this.mdpLogin(t);break;case n.qqwallet:this.qqLogin(t);break;case n.wxapp:this.wxappLogin(t);break;case n.dianping:case n.gewara:this.dianpingLogin(t);break;case n.meituan:this.meituanAppLogin(t);break;case n.maoyan:this.maoyanAppLogin(t);break;default:return void this.maoyanLogin(t)}}},{key:\\\"meituanAppLogin\\\",value:function(e){f.ready(function(){f.login({success:function(e){location.reload()},fail:function(e){console.log(e)}})})}},{key:\\\"dianpingLogin\\\",value:function(e){e=e||window.location.href,f.ready(function(){f.login({success:function(e){location.reload()},fail:function(e){console.log(e)}})})}},{key:\\\"maoyanLogin\\\",value:function(e){var n=window.AppData.$config,t=void 0===n?{}:n,o=t.host&&t.host.imaoyanlogin||\\\"https://passport.maoyan.com\\\",r=encodeURIComponent(e||\\\"https://\\\".concat(AppData.$host.host).concat(location.pathname+location.search));this.locationToHref(\\\"\\\".concat(o,\\\"/login?redirectURL=\\\").concat(r))}},{key:\\\"qqLogin\\\",value:function(){var e=window.location.href;e=encodeURIComponent(e);var n=window.AppData.$config,t=void 0===n?{}:n,o=t.host&&t.host.bankLogin||\\\"https://passport.maoyan.com\\\",r=\\\"\\\".concat(d.a.get(\\\"iuuid\\\"),\\\" \\\").concat(h()(new Date,\\\"yyyy-mm-dd HH:MM:ss.l\\\"));this.locationToHref(\\\"\\\".concat(o,\\\"/bankLogin?appName=qq&business=media&redirectURL=\\\").concat(e,\\\"&type=server&bankTimeLog=\\\").concat(r))}},{key:\\\"mdpLogin\\\",value:function(){var e=window.location.href;e=encodeURIComponent(e);var n=encodeURIComponent(\\\"https://maoyan.dianping.com/dplogin?from=\\\".concat(window.channelName||AppData.$channelName,\\\"&redirectURL=\\\").concat(e));this.locationToHref(\\\"https://m.dianping.com/login?redir=\\\".concat(n))}},{key:\\\"maoyanAppLogin\\\",value:function(e){f.ready(function(){f.login({success:function(n){e&&-1!==e.search(/\\\\?/g)?e+=\\\"&token=\\\"+n.token:e+=\\\"?token=\\\"+n.token,location.href=e},fail:function(e){console.log(e)}})})}},{key:\\\"wxappLogin\\\",value:(p=i.a.mark(function e(n){var t,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.isWechatSmallProgram(AppData.$browser||{});case 2:e.sent?(t=\\\"/pages/webview/webview?noLogin=true&url=\\\".concat(encodeURIComponent(n||location.href)),wx.miniProgram.redirectTo({url:\\\"/pages/login/index?url=\\\".concat(encodeURIComponent(t))})):(-1===(o=location.search).indexOf(\\\"from=\\\")&&(o=\\\"\\\".concat(location.search).concat(location.search?\\\"&\\\":\\\"?\\\",\\\"from=\\\").concat(window.channelName)),n=n||\\\"https://\\\".concat(AppData.$host.host).concat(location.pathname+o),n=encodeURIComponent(n),this.locationToHref(\\\"/wxlogin?from=mmweb&redirectURL=\\\".concat(n)));case 4:case\\\"end\\\":return e.stop()}},e,this)}),m=function(){var e=this,n=arguments;return new Promise(function(t,o){var r=p.apply(e,n);function i(e){b(r,t,o,i,a,\\\"next\\\",e)}function a(e){b(r,t,o,i,a,\\\"throw\\\",e)}i(void 0)})},function(e){return m.apply(this,arguments)})},{key:\\\"mge\\\",value:function(e,n,t){var o={nm:\\\"mge\\\",val_bid:e,val_cid:n||AppData.cid,event_type:\\\"click\\\"};t&&\\\"object\\\"===w(t)&&(o.val_lab=t),Analytics(\\\"event\\\",o)}},{key:\\\"isWechatSmallProgram\\\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(n,t){if(\\\"undefined\\\"!=typeof window){var o=/micromessenger/i.test(window.navigator.userAgent),r=function(){\\\"miniprogram\\\"===window.__wxjs_environment?n(!0):n(!1)};o||n(!1),\\\"ios\\\"==e.platform?r():window.WeixinJSBridge&&WeixinJSBridge.invoke?r():document.addEventListener(\\\"WeixinJSBridgeReady\\\",function(){r()},!1)}else n(!1)})}},{key:\\\"$data\\\",get:function(){return\\\"browser\\\"==e.title?AppData:{}}},{key:\\\"$query\\\",get:function(){return{}}},{key:\\\"$mtnb\\\",get:function(){return this._mtnb}}],u=[{key:\\\"style\\\",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){n.push(e.name.replace(/Page$/,\\\"\\\").toLowerCase()),e.styles=Object(l.flatten)(n.map(function(n){return\\\"string\\\"==typeof n?/Page$/.test(e.name)?s.a.join(o,\\\"styles\\\",\\\"pages\\\",\\\"\\\".concat(n,\\\".less\\\")):s.a.join(o,\\\"components\\\",e.name,\\\"\\\".concat(e.name,\\\".less\\\")):n.styles}),!0),e.styles=Object(l.uniq)(e.styles)}}},{key:\\\"deprecated\\\",value:function(e){console.warn(\\\"[deprecated] \\\".concat(e))}},{key:\\\"csrf\\\",value:function(e){var n={},t=Array.prototype.slice,o=document.getElementsByTagName(\\\"meta\\\");return t.call(o).filter(function(e){return~[\\\"csrf\\\",\\\"timestamp\\\"].indexOf(e.name)}).forEach(function(e){n[e.name]=e.content}),e.set(\\\"csrf\\\",n.csrf),e.set(\\\"timestamp\\\",n.timestamp),e}},{key:\\\"cls\\\",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.map(function(e){switch(/\\\\[object (\\\\w+)\\\\]/.exec({}.toString.call(e))[1]){case\\\"Array\\\":return e;case\\\"String\\\":return[e];case\\\"Object\\\":return Object.keys(e).filter(function(n){return e[n]})}return[]}).reduce(function(e,n){return e.concat(n)},[]).filter(function(e){return!!e}).reduce(function(e,n){return e.indexOf(n)<0&&e.push(n),e},[]).join(\\\" \\\")}},{key:\\\"redirect\\\",value:function(n){\\\"browser\\\"==e.title&&(n.indexOf(\\\"?\\\")!==n.lastIndexOf(\\\"?\\\")&&console.warn(\\\"Your redirect url contains an url param, encodeURIComponent it or it may be confused\\\"),!n||~n.indexOf(\\\"//\\\")||~n.indexOf(\\\"_v_\\\")||(~n.indexOf(\\\"?\\\")?n=n.replace(\\\"?\\\",\\\"?_v_=yes&\\\"):n+=\\\"?_v_=yes\\\"),t.locationToHref(n))}},{key:\\\"urlSupportHttps\\\",value:function(e){return\\\"string\\\"==typeof e&&(e=(e=e.replace(/http:\\\\/\\\\/([^\\\\.]+).meituan.net/,location.protocol+\\\"//$1.meituan.net\\\")).replace(/http:\\\\/\\\\/([^\\\\.]+).maoyan.com/,location.protocol+\\\"//$1.maoyan.com\\\")),e}}],a&&O(r.prototype,a),u&&O(r,u),t}();_.contextType=g.a,_.triggerApp=function(){var e=this,n=\\\"\\\";function t(t,o){\\\"chrome\\\"!=AppData.$browser.name&&\\\"samsung\\\"!=AppData.$browser.vender||\\\"android\\\"!=AppData.$browser.platform?(function(){if(!n){var e=document.createElement(\\\"iframe\\\");e.style.cssText=\\\"display:none;width:0px;height:0px;\\\",setTimeout(function(){document.body.appendChild(e)},300),n=e}return n}()).src=t:e.locationToHref(function(e,n){var t=e.substr(e.indexOf(\\\":\\\"));return\\\"intent\\\"+t+\\\"#Intent;scheme=\\\"+e.substr(0,e.length-t.length)+\\\";package=\\\"+n+\\\";end\\\"}(t,o))}return function(e,n,o){var r=Date.now(),i=o||{first:\\\"com.sankuai.movie\\\",second:\\\"com.sankuai.meituan\\\"};t(e,i.first),n&&setTimeout(function(){n&&Date.now()-r<appInstall.timeout+100&&t(n,i.second)},this.timeout)}}(),_.locationToHref=v.a.locationToHref}).call(this,t(14),\\\"/\\\")},52:function(e,n,t){\\\"use strict\\\";(function(e){var o=t(0),r=t.n(o),i=t(17),a=t.n(i),c=t(15);n.a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\\\"app\\\";return function(t){\\\"browser\\\"===e.title&&a.a.hydrate(r.a.createElement(c.a.Provider,{value:window.AppData},r.a.createElement(t,window.AppData)),document.getElementById(n))}}}).call(this,t(14))},538:function(e,n,t){},8:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"a\\\",function(){return y});var o=t(0),r=t.n(o),i=t(17),a=t.n(i),c=t(13),u=t(22);function s(e){return(s=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function f(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function p(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,n){return!n||\\\"object\\\"!==s(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,n){return(h=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var y=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),(t=d(this,m(n).call(this,e))).getHost=function(e){var n=parseInt((e.match(/\\\\d/g)||[]).slice(0,5).join(\\\"\\\"),10);return\\\"//p\\\".concat(n?n%2:0,\\\".meituan.net\\\")},t.getPath=function(e){return e.split(\\\"/\\\").slice(/\\\\/(\\\\d+|w)\\\\.(\\\\d+|h)\\\\//.test(e)?4:3).join(\\\"/\\\").split(\\\"@\\\")[0]},t.cdn=function(e){var n=t.props,o=n.width,r=n.height,i=n.quality,a=void 0===i?80:i,c=n.e,u=n.l,s=n.c,l=n.sc,f=t.props.manualTailor,p=[],d=\\\"\\\";o&&(o=parseInt(o,10),p.push(\\\"\\\".concat(o,\\\"w\\\"))),r&&(r=parseInt(r,10),p.push(\\\"\\\".concat(r,\\\"h\\\"))),a&&(a=parseInt(a,10),p.push(\\\"\\\".concat(a,\\\"q\\\"))),c&&(c=parseInt(c,10),p.push(\\\"\\\".concat(c,\\\"e\\\"))),u&&(u=parseInt(u,10),p.push(\\\"\\\".concat(u,\\\"l\\\"))),s&&(s=parseInt(s,10),p.push(\\\"\\\".concat(s,\\\"c\\\")));var m=t.getPath(e);return f?o&&r&&(d+=\\\"@1sc%7C\\\".concat(o,\\\"w%7C0_0_\\\").concat(o,\\\"_\\\").concat(r,\\\"a\\\")):p.length&&(d+=\\\"@\\\",l&&(l=parseInt(l,10),d+=\\\"\\\".concat(l,\\\"sc%7C\\\")),d+=\\\"\\\".concat(p.join(\\\"_\\\"))),m+=d,e=[t.getHost(e),m].join(\\\"/\\\")},t.updateViewport=function(e){var n=e.getBoundingClientRect(),o=n.top>=0-n.height&&n.left>=0-n.width&&n.top<=(window.innerHeight||document.documentElement.clientHeight)&&n.left<=(window.innerWidth||document.documentElement.clientWidth);o&&!t.state.viewport&&t.setState({viewport:o})},t.findContainer=function(e,n){for(var t=9,o=window;e.nodeType!==t;){if(\\\"scroll\\\"===window.getComputedStyle(e)[\\\"overflow\\\".concat(n.toUpperCase())]){o=e;break}e=e.parentNode}return o},t.tencentScropGravityCenter=function(e){var n=e,o=t.props,r=o.width,i=o.height;return r&&i&&(n=(n=n.split(\\\"?\\\")[0])?\\\"\\\".concat(n,\\\"?imageMogr2/scrop/\\\").concat(r,\\\"x\\\").concat(i,\\\"/gravity/center\\\"):e),n},t.state={viewport:!1},t}var t,o,i;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&h(e,n)}(n,c[\\\"a\\\"]),t=n,(o=[{key:\\\"componentDidMount\\\",value:function(){var e=this,n=a.a.findDOMNode(this);this.containerX=this.findContainer(n,\\\"X\\\"),this.containerY=this.findContainer(n,\\\"Y\\\"),this.handler=function(){e.updateViewport(n)},this.containerX.addEventListener(\\\"scroll\\\",this.handler,!1),this.containerX!==this.containerY&&this.containerY.addEventListener(\\\"scroll\\\",this.handler,!1),this.updateViewport(n)}},{key:\\\"componentWillUnmount\\\",value:function(){this.containerX.removeEventListener(\\\"scroll\\\",this.handler),this.containerY.removeEventListener(\\\"scroll\\\",this.handler)}},{key:\\\"render\\\",value:function(){var e=this.context,n=e.$host,t=e.$webp,o=void 0!==t&&t,i=this.props.src,a=this.props,s=a.bid,p=a.viewBid,d=a.lab,m=a.alt,h=a.txGravity,y=a.className,v=a.width,g=a.height,w=a.preload,b=a.noneBg,O=a.oriUrl,k=a.widthInside,x=a.heightInside,S=a.yao,_=f(a,[\\\"bid\\\",\\\"viewBid\\\",\\\"lab\\\",\\\"alt\\\",\\\"txGravity\\\",\\\"className\\\",\\\"width\\\",\\\"height\\\",\\\"preload\\\",\\\"noneBg\\\",\\\"oriUrl\\\",\\\"widthInside\\\",\\\"heightInside\\\",\\\"yao\\\"]);delete _.src;var I=\\\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\\\";i&&(i.includes(\\\"pipi.cn\\\")?i=h?this.tencentScropGravityCenter(i):u.d({w:v,h:g,q:80},i):/(p\\\\d|img)\\\\.meituan\\\\.net/.test(i)?(i=this.cdn(i),o&&(i+=\\\".webp\\\")):i=-1===i.indexOf(\\\"://\\\")&&0!==i.indexOf(\\\"//\\\")&&0!==i.indexOf(n.assets)&&-1===i.indexOf(\\\"base64,\\\")?n.assets+i:i.replace(/^http:/,\\\"\\\"));var P=w||b?\\\"noneBg\\\":\\\"\\\";return r.a.createElement(\\\"img\\\",l({className:c.a.cls(\\\"img\\\",P,y),ref:\\\"img\\\",alt:m,\\\"data-bid\\\":s,\\\"data-view-bid\\\":p,\\\"data-lab\\\":d,src:(w||this.state.viewport)&&i||I,width:k,height:x,\\\"data-yao\\\":S,\\\"data-ori\\\":O},_))}}])&&p(t.prototype,o),i&&p(t,i),n}();y.defaultProps={width:0,height:0},t(84)},84:function(e,n,t){},840:function(e,n,t){\\\"use strict\\\";t.d(n,\\\"a\\\",function(){return m});var o=t(0),r=t.n(o),i=t(103),a=t(51);function c(e){return(c=\\\"function\\\"==typeof Symbol&&\\\"symbol\\\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\\\"function\\\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\\\"symbol\\\":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function s(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function l(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\\\"value\\\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,n){return!n||\\\"object\\\"!==c(n)&&\\\"function\\\"!=typeof n?function(e){if(void 0===e)throw new ReferenceError(\\\"this hasn't been initialised - super() hasn't been called\\\");return e}(e):n}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var m=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError(\\\"Cannot call a class as a function\\\")}(this,n),f(this,p(n).apply(this,arguments))}var t,o,c;return function(e,n){if(\\\"function\\\"!=typeof n&&null!==n)throw new TypeError(\\\"Super expression must either be null or a function\\\");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(n,a[\\\"a\\\"]),t=n,(o=[{key:\\\"render\\\",value:function(){var e=this.props,n=e.link,t=e.text,o=e.className,c=e.children,l=s(e,[\\\"link\\\",\\\"text\\\",\\\"className\\\",\\\"children\\\"]);return r.a.createElement(i.a,u({className:a.a.cls(\\\"btn\\\",o),to:n},l),c||t)}}])&&l(t.prototype,o),c&&l(t,c),n}();t(919)},85:function(e,n,t){e.exports=t(24)(167)},86:function(e,n,t){\\\"use strict\\\";t.r(n);var o,r=t(4);function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,o)}return t}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(t.push(a.value),!n||t.length!==n);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return t}(e,n)||function(){throw new TypeError(\\\"Invalid attempt to destructure non-iterable instance\\\")}()}var u,s,l=[];function f(e){if(\\\"function\\\"==typeof e)null==o?l.push(e):e(o);else if(null!=o)for(;e=l.shift();)e(o)}n.default=function(e){if(null==u){if(null==(u=e||{}).apis&&(u.apis=[]),u.apis.push.apply(u.apis,[\\\"menu:share:timeline\\\",\\\"menu:share:appmessage\\\"]),/MicroMessenger\\\\/(\\\\d\\\\.\\\\d\\\\.\\\\d)/i.test(window.navigator.userAgent)){var n=c(window.location.href.split(\\\"#\\\"),1)[0],t={url:void 0===n?\\\"\\\":n};s=setTimeout(function(){if(Owl&&Owl.addError){var n={name:\\\"寰俊楠岀鎺ュ彛瓒呮椂\\\",msg:{url:location.href,opts:e}};Owl.addError(n)}},2e3);(\\\"dianping\\\"===u.offiaccount?Object(r.b)(\\\"//cps.dianping.com/weixin/config.js\\\".concat(\\\"?apis=checkJsApi,onMenuShareTimeline,onMenuShareAppMessage,onMenuShareQQ,onMenuShareWeibo,onMenuShareQZone,startRecord,stopRecord,onVoiceRecordEnd,playVoice,pauseVoice,stopVoice,onVoicePlayEnd,uploadVoice,downloadVoice,chooseImage,previewImage,uploadImage,downloadImage,getLocalImgData,translateVoice,getNetworkType,openLocation,getLocation,hideOptionMenu,showOptionMenu,hideMenuItems,showMenuItems,hideAllNonBaseMenuItem,showAllNonBaseMenuItem,closeWindow,scanQRCode,chooseWXPay,openAddress,openProductSpecificView,addCard,chooseCard,openCard,startSearchBeacons,stopSearchBeacons,onSearchBeacons,launchMiniProgram,miniProgram,updateAppMessageShareData,updateTimelineShareData,launchApplication\\\"),{timeout:2e3}).then(function(e){return{appId:e.appId,timestamp:e.timestamp,signature:e.signature,nonceStr:e.nonceStr}}):\\\"meituan\\\"===u.offiaccount?Object(r.b)(\\\"//ihotel.meituan.com/topcube/api/toc/weixin/getConfig?url=\\\".concat(encodeURIComponent(window.location.href)),{timeout:2e3}).then(function(e){return{appId:\\\"wxc72f01f43da0083b\\\",timestamp:e.data.timestamp,signature:e.data.signature,nonceStr:e.data.nonceStr}}):r.a.get(\\\"https://m.maoyan.com/wechat\\\",{params:t,timeout:2e3,baseURL:\\\"/\\\"}).then(function(e){return{appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.noncestr,signature:e.data.signature}})).then(function(e){window.wx.config(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(t,!0).forEach(function(n){a(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e,{debug:u.debug||!1,jsApiList:u.apis,openTagList:u.openTagList})),clearTimeout(s),window.wx.ready(function(){o=window.wx,window.wx=window.wx,f();var e=document.getElementById(\\\"wxOpenLaunchWeapp\\\");e.addEventListener(\\\"launch\\\",function(e){console.log(\\\"鍞よ捣寰俊灏忕▼搴� success\\\")}),e.addEventListener(\\\"error\\\",function(e){console.log(\\\"鍞よ捣寰俊灏忕▼搴� fail\\\",e.detail)})}),window.wx.error(function(e){console.log(\\\"wx.error\\\",e)})})}}else if(null!=e)throw new Error(\\\"閲嶅璋冪敤, 璇峰湪鍗曚竴鍏ュ彛璋冪敤wxReady()\\\");return f}},90:function(e,n,t){e.exports=t(23)(385)},919:function(e,n,t){}});\", \"length\": 93909, \"original_length\": 93909, \"cleaned\": false, \"truncated\": false, \"omitted_chars\": 0, \"raw_path\": \"log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/browser/session_output_dir/browser_snapshot_20260204-140533_e61746b3ce.html\", \"raw_length\": 98170}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_OlbpMSz6LrrhGRlVMXlHfDhv", "function": {"arguments": "{\"code\":\"import re, os, textwrap, json\\nsnap_path='log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/browser/session_output_dir/browser_snapshot_20260204-140533_e61746b3ce.html'\\njs=open(snap_path,'rb').read().decode('utf-8','ignore')\\nprint('len',len(js))\\n# Search for board api endpoints and xhr\\npatterns=[r'/ajax/[^\\\"\\\\']+', r'https?://[^\\\"\\\\']+ajax[^\\\"\\\\']+', r'boardId\\\\\\\"\\\\s*:\\\\s*\\\\d+', r'boardType\\\\\\\"\\\\s*:\\\\s*\\\\d+', r'boardType\\\\s*[:=]\\\\s*\\\\d+', r'mostExpected', r'wish']\\nfor pat in patterns:\\n    m=re.findall(pat, js)\\n    if m:\\n        print(pat, 'count', len(m), 'sample', m[:5])\\n# Search for 'asgard' api endpoints\\nm=re.findall(r'https?://[^\\\"\\\\']+maoyan\\\\.com[^\\\"\\\\']+', js)\\nprint('maoyan urls', len(m))\\nprint('sample', m[:20])\\n# Look for fetch or axios endpoints\\nfor key in ['fetch','axios','XMLHttpRequest','jsonp','mtop','request','api']:\\n    if key in js:\\n        print('contains', key)\\n# find any 'board/6' occurrences\\nprint('board/6 occurrences', js.count('board/6'))\\n# attempt to locate a request config object around boardType\\nidx=js.find('boardType')\\nprint('first idx', idx)\\nprint(js[idx-200:idx+200] if idx!=-1 else 'none')\\n# search for 'asgard' and 'board' together\\nfor m in re.finditer(r'board', js):\\n    if m.start()<50000:\\n        pass\\n# maybe endpoint is /asgard/board/{id}?$from=canary and inside calls /ajax/board?boardType=6\\n# search for 'boardType=6'\\nprint('boardType=6 present', 'boardType=6' in js)\\n# extract endpoints with boardType\\nm=re.findall(r'[^\\\\s\\\"\\\\']*board[^\\\\s\\\"\\\\']*\\\\?[^\\\\s\\\"\\\\']*boardType[^\\\\s\\\"\\\\']*', js)\\nprint('endpoints with boardType', len(m), m[:10])\\n# extract endpoints with 'wish' maybe wantCount\\nm2=re.findall(r'[^\\\\s\\\"\\\\']*(?:wish|want)[^\\\\s\\\"\\\\']*', js)\\nprint('tokens wish/want sample', m2[:50])\\n\"}", "name": "execute_python_code"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_OlbpMSz6LrrhGRlVMXlHfDhv", "name": "execute_python_code", "content": "Calling the tool execute_python_code failed with error [tool_error] 代码安全检查失败: 不允许的导入: textwrap"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_3xF0lRYUIptsEuJ72Xv4Tyxm", "function": {"arguments": "{\"code\":\"import re, os, json\\nsnap_path='log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/browser/session_output_dir/browser_snapshot_20260204-140533_e61746b3ce.html'\\njs=open(snap_path,'rb').read().decode('utf-8','ignore')\\nprint('len',len(js))\\npatterns=[r\\\"/ajax/[^\\\\\\\"\\\\']+\\\", r\\\"https?://[^\\\\\\\"\\\\']+ajax[^\\\\\\\"\\\\']+\\\", r\\\"boardId\\\\\\\"\\\\s*:\\\\s*\\\\d+\\\", r\\\"boardType\\\\\\\"\\\\s*:\\\\s*\\\\d+\\\", r\\\"boardType\\\\s*[:=]\\\\s*\\\\d+\\\", r\\\"mostExpected\\\", r\\\"wish\\\"]\\nfor pat in patterns:\\n    m=re.findall(pat, js)\\n    if m:\\n        print(pat, 'count', len(m), 'sample', m[:5])\\nmaoyan_urls=re.findall(r\\\"https?://[^\\\\\\\"\\\\']+maoyan\\\\\\\\.com[^\\\\\\\"\\\\']+\\\", js)\\nprint('maoyan urls', len(maoyan_urls))\\nprint('sample', maoyan_urls[:20])\\nfor key in ['fetch','axios','XMLHttpRequest','jsonp','request','api']:\\n    if key in js:\\n        print('contains', key)\\nprint('board/6 occurrences', js.count('board/6'))\\nidx=js.find('boardType')\\nprint('first idx', idx)\\nprint(js[idx-200:idx+200] if idx!=-1 else 'none')\\nprint('boardType=6 present', 'boardType=6' in js)\\nwith_bt=re.findall(r\\\"[^\\\\s\\\\\\\"\\\\']*board[^\\\\s\\\\\\\"\\\\']*\\\\?[^\\\\s\\\\\\\"\\\\']*boardType[^\\\\s\\\\\\\"\\\\']*\\\", js)\\nprint('endpoints with boardType', len(with_bt), with_bt[:10])\\n\"}", "name": "execute_python_code"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_3xF0lRYUIptsEuJ72Xv4Tyxm", "name": "execute_python_code", "content": "Successful tool call result 0 with tool execute_python_code: {\"success\": true, \"output\": \"len 98170\\nwish count 12 sample ['wish', 'wish', 'wish', 'wish', 'wish']\\nmaoyan urls 0\\nsample []\\ncontains jsonp\\ncontains request\\ncontains api\\nboard/6 occurrences 0\\nfirst idx 30322\\ntion(e){e&amp;&amp;e.data&amp;&amp;e.data.id==p&amp;&amp;n.setState({wishst:!n.state.wishst})}).catch(function(e){console.log(e)})}},{key:\\\"renderBtn\\\",value:function(){var e=this.props,n=e.channel,t=e.boardType;if(3==n.channelId){var o=this.state.wishst?1:0,i=r.a.createElement(\\\"i\\\",{className:\\\"icon icon-\\\".concat([\\\"heart-empty\\\",\\\"heart\\\"][o])});return r.a.createElement(p.a,{className:\\\"btn-reverse wish\\\"\\nboardType=6 present False\\nendpoints with boardType 0 []\\n\", \"error\": \"\", \"variables\": {}, \"artifacts\": [], \"artifact_root\": \"/Users/weichy/code/galaxy-agent/log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/code\"}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_3QXvej9T10GrBMVCjIyMJt05", "function": {"arguments": "{\"code\":\"import re\\nsnap_path='log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/browser/session_output_dir/browser_snapshot_20260204-140533_e61746b3ce.html'\\njs=open(snap_path,'rb').read().decode('utf-8','ignore')\\nfor pat in [r'https?://[^\\\\\\\"\\\\']+', r'//[^\\\\\\\"\\\\']+']:\\n    urls=re.findall(pat, js)\\n    print(pat, len(urls))\\n    # filter interesting\\n    ints=[u for u in urls if any(k in u for k in ['maoyan','pipi','meituan','dpfile','api','ajax','asgard'])]\\n    print('interesting', len(ints))\\n    print(ints[:30])\\n# search for domain-like strings without protocol\\ncands=set(re.findall(r'[a-zA-Z0-9.-]+\\\\.(?:com|cn|net)(?::\\\\d+)?(?:/[a-zA-Z0-9_./-]+)?', js))\\nints=[c for c in cands if any(k in c for k in ['maoyan','meituan','pipi','dpfile','api','ajax'])]\\nprint('domain cands', len(cands), 'interesting', len(ints))\\nprint(sorted(ints)[:50])\\n# look for /api/ path strings\\npaths=set(re.findall(r'/(?:api|ajax)/[a-zA-Z0-9_./-]+', js))\\nprint('api/ajax paths', len(paths))\\nprint(list(paths)[:50])\\n# look for request path in JSONP like '...get' '...board'\\npaths2=set(re.findall(r'\\\"(/[^\\\\\\\"]+)\\\"', js))\\nints2=[p for p in paths2 if 'board' in p or 'wish' in p or 'movie' in p or 'rank' in p]\\nprint('quoted paths total', len(paths2), 'interesting', len(ints2))\\nprint(list(ints2)[:80])\\n\"}", "name": "execute_python_code"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_3QXvej9T10GrBMVCjIyMJt05", "name": "execute_python_code", "content": "Successful tool call result 0 with tool execute_python_code: {\"success\": true, \"output\": \"https?://[^\\\\\\\"\\\\']+ 19\\ninteresting 16\\n['https://m.maoyan.com$0', 'https://m.maoyan.com$0', 'https://m.maoyan.com$0', 'https://piaofang.maoyan.com/movie/$1?_v_=yes', 'https://passport.maoyan.com', 'https://passport.maoyan.com', 'https://m.maoyan.com', 'https://passport.maoyan.com', 'https://maoyan.dianping.com/dplogin?from=', 'https://canary.movie.st.maoyan.com', 'https://canary.movie.test.maoyan.com', 'https://m.maoyan.com', 'https://passport.maoyan.com', 'https://passport.maoyan.com', 'https://maoyan.dianping.com/dplogin?from=', 'https://m.maoyan.com/wechat']\\n//[^\\\\\\\"\\\\']+ 57\\ninteresting 40\\n['//s0.pipi.cn/festatic/asgard/resources/', '//www.meituan.com/movie_trailer?movieId=$1&amp;videoId=$2', '//www.meituan.com/movie_trailer?movieId=$1', '//www.meituan.com/deal/?did=$1', '//www.meituan.com/cartoon/detail?id=$1', '//www.meituan.com/merchant?id=$3&amp;channel=cinema&amp;cinemaDeals=1', '//www.meituan.com/cinema?id=$1&amp;nm=$2', '//www.meituan.com/cinema?id=$1&amp;movieid=$2&amp;date=$3', '//www.meituan.com/web?url=https://m.maoyan.com$0', '//www.meituan.com/web?url=https://m.maoyan.com$0', '//www.meituan.com/web?url=https://m.maoyan.com$0', '//www.meituan.com/voucher/list', '//www.meituan.com/mine/voucher?uid=$1', '//www\\\\\\\\\\\\\\\\.meituan\\\\\\\\\\\\\\\\.com/movie\\\\\\\\\\\\\\\\?id=(\\\\\\\\\\\\\\\\d+)&amp;nm=([\\\\\\\\\\\\\\\\s\\\\\\\\\\\\\\\\S]+)', '//www.meituan.com/web?url=https://piaofang.maoyan.com/movie/$1?_v_=yes', '//www.meituan.com/signin?redirectURL=', '//www.meituan.com/signin?redirectURL=', '//$1.meituan.net', '//$1.maoyan.com', '//passport.maoyan.com', '//passport.maoyan.com', '//m.maoyan.com', '//passport.maoyan.com', '//maoyan.dianping.com/dplogin?from=', '//$1.meituan.net', '//$1.maoyan.com', '//www.meituan.com/signin?redirectURL=', '//www.meituan.com/exportweb?url=', '//canary.movie.st.maoyan.com', '//canary.movie.test.maoyan.com']\\ndomain cands 38 interesting 27\\n['.maoyan.com', '.meituan.net', '.pipi.cn', '1.maoyan.com', '1.meituan.net', 'canary.movie.st.maoyan.com', 'canary.movie.test.maoyan.com', 'ihotel.meituan.com/topcube/api/toc/weixin/getConfig', 'm.maoyan.com', 'm.maoyan.com/wechat', 'maoyan.dianping.com/dplogin', 'meituan.net/.test', 'p0.meituan.net/scarlett/f05f61e7a8f3f45fd071c068d7a26870356.png', 'passport.maoyan.com', 'piaofang.maoyan.com/movie/', 'pipi.cn', 's0.pipi.cn/festatic/asgard/resources/', 'www.meituan.com/cartoon/detail', 'www.meituan.com/cinema', 'www.meituan.com/deal/', 'www.meituan.com/exportweb', 'www.meituan.com/merchant', 'www.meituan.com/mine/voucher', 'www.meituan.com/movie_trailer', 'www.meituan.com/signin', 'www.meituan.com/voucher/list', 'www.meituan.com/web']\\napi/ajax paths 2\\n['/api/mmdb/open/tg/pre.json', '/api/toc/weixin/getConfig']\\nquoted paths total 52 interesting 7\\n['/board/7', '/movie/(\\\\\\\\\\\\\\\\d+)/preview', '/asgard/movie/', '/mmdb/v1/wish.json', '/#tmp=showtime&amp;cinemaid=(\\\\\\\\\\\\\\\\d+)&amp;movieid=(\\\\\\\\\\\\\\\\d+)&amp;date=([\\\\\\\\\\\\\\\\s\\\\\\\\\\\\\\\\S]+)', '/movie/(\\\\\\\\\\\\\\\\d+)/preview.*videoId=(\\\\\\\\\\\\\\\\d+)', '/board/']\\n\", \"error\": \"\", \"variables\": {}, \"artifacts\": [], \"artifact_root\": \"/Users/weichy/code/galaxy-agent/log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/code\"}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_V4d6TurKUaCwXXKi7rAdFOYa", "function": {"arguments": "{\"url\":\"https://m.maoyan.com/mmdb/v1/wish.json?limit=50&offset=0&boardId=6\",\"wait_until\":\"load\"}", "name": "browser_navigate"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_V4d6TurKUaCwXXKi7rAdFOYa", "name": "browser_navigate", "content": "Calling the tool browser_navigate failed with error [tool_error] Successfully navigated to https://m.maoyan.com/mmdb/v1/wish.json?limit=50&offset=0&boardId=6"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_2E166fbSWYerBgzgH1WSJaY5", "function": {"arguments": "{\"format\":\"text\",\"clean_content\":true,\"max_length\":20000,\"url\":null,\"wait_until\":\"load\",\"timeout_ms\":30000,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "browser_snapshot"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_2E166fbSWYerBgzgH1WSJaY5", "name": "browser_snapshot", "content": "Successful tool call result 0 with tool browser_snapshot: {\"success\": true, \"url\": \"https://m.maoyan.com/mmdb/v1/wish.json?limit=50&offset=0&boardId=6\", \"title\": \"\", \"format\": \"text\", \"content\": \"{\\\"data\\\":{\\\"wish\\\":false}}\", \"length\": 23, \"original_length\": 23, \"cleaned\": true, \"truncated\": false, \"omitted_chars\": 0, \"raw_path\": \"log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/browser/session_output_dir/browser_snapshot_20260204-140610_9f21200e60.html\", \"raw_length\": 186}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_AjjYciTUfnWiToyXWQXhPecU", "function": {"arguments": "{\"url\":\"https://m.maoyan.com/mmdb/v1/wish.json?limit=50&offset=0&boardId=6\",\"clean_content\":true,\"store_raw\":true,\"artifact_dir\":\"session_output_dir\"}", "name": "read_webpage"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_AjjYciTUfnWiToyXWQXhPecU", "name": "read_webpage", "content": "Successful tool call result 0 with tool read_webpage: {\"success\": true, \"data\": {\"content\": \"{\\\"data\\\":{\\\"wish\\\":false}}\", \"url\": \"https://m.maoyan.com/mmdb/v1/wish.json?limit=50&offset=0&boardId=6\", \"raw_path\": \"log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/web/session_output_dir/read_webpage_20260204-140621_9f21200e60.html\", \"raw_length\": 23}}"}
{"content": "", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": [{"id": "call_m8Mn3xONI4RSse37YvUfQpd0", "function": {"arguments": "{\"code\":\"import re\\nsnap_path='log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/browser/session_output_dir/browser_snapshot_20260204-140533_e61746b3ce.html'\\njs=open(snap_path,'rb').read().decode('utf-8','ignore')\\n# locate '/mmdb/v1/wish.json'\\nidx=js.find('/mmdb/v1/wish.json')\\nprint('idx', idx)\\nprint(js[idx-300:idx+500] if idx!=-1 else 'not found')\\n# also search for 'wish.json' occurrences\\nfor m in re.finditer('wish.json', js):\\n    print('pos', m.start())\\n    if m.start()>idx-10 and m.start()<idx+10:\\n        pass\\n# Find query param names used around it\\nif idx!=-1:\\n    seg=js[idx-2000:idx+2000]\\n    params=set(re.findall(r'\\\\b([a-zA-Z]{2,20})\\\\b(?=\\\\s*:\\\\s*)', seg))\\n    print('some keys', sorted(list(params))[:80])\\n\"}", "name": "execute_python_code"}, "type": "function", "index": 0}]}
{"role": "tool", "tool_call_id": "call_m8Mn3xONI4RSse37YvUfQpd0", "name": "execute_python_code", "content": "Successful tool call result 0 with tool execute_python_code: {\"success\": true, \"output\": \"idx 58566\\nn);case 21:case\\\"end\\\":return e.stop()}},e)}))).apply(this,arguments)}function k(){return(k=h(r.a.mark(function e(n){var t,o,i,a,c,s,l,f,d,m,h,y,v,g,w;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.url,o=n.params,i=void 0===o?{}:o,a=n.data,c=void 0===a?{}:a,-1!==t.indexOf(\\\"/mmdb/v1/wish.json\\\")&amp;&amp;(f=null!==(s=null===(l=window)||void 0===l?void 0:l.AppData)&amp;&amp;void 0!==s?s:{},d=f.$browser,m=void 0===d?{}:d,h=f.$locate,y=void 0===h?{}:h,v=f.$uuid,(g=\\\"string\\\"==typeof c)&amp;&amp;(c=u.a.parse(c)),w={},-1!==t.indexOf(\\\"clientType\\\")||i.clientType||c.clientType||(w.clientType=m.platform||\\\"touch\\\"),-1!==t.indexOf(\\\"version_name\\\")||i.version_name||c.version_name||(w.version_name=m.version||m.platformVersion||\\\"\\\"),-1!==t.indexOf(\\\"uuid\\\")||i.uuid||c.uuid||(w.uuid=v),-\\npos 58575\\nsome keys ['url']\\n\", \"error\": \"\", \"variables\": {}, \"artifacts\": [], \"artifact_root\": \"/Users/weichy/code/galaxy-agent/log/galaxy_futurex_0204/685e4893e582f0005f9cd2c8/code\"}"}
{"role": "user", "content": "Token budget reached. Provide a concise summary now.\n\nYour analysis is complete. Now provide your final IR output for the **entertainment.rank_momentum.update** factor.\n\n**OUTPUT FORMAT - CRITICAL**:\nReturn ONLY a valid JSON object. No markdown code blocks, no explanations, no additional text.\nTools are disabled in this step. Do NOT call any tools or include tool_calls/tool_uses.\n\n**Required JSON Schema**:\n{\n  \"summary\": \"1-3 sentence conclusion\",\n  \"data_gap\": [\"missing data or limitations\", \"...\"],\n  \"evidence\": [\"Evidence point 1 with source/time\", \"Evidence point 2\", ...],\n  \"claims\": [\"Claim 1\", \"Claim 2\", ...],\n  \"signals\": [\n    {\"name\": \"signal_label\", \"value\": <raw_value>, \"unit\": \"optional\", \"note\": \"optional\", \"aggregate_as\": \"optional\", \"scale\": \"optional\"}\n  ],\n  \"confidence\": 0.0-1.0\n}\n\n**Rules**:\n1. Do NOT include output_kind, output_schema, status, value_unit, value_scale, final predictions, or wrapper objects.\n2. summary must be concise and reflect the main conclusion; claims[0] MUST be the main conclusion.\n3. Evidence must be short strings with source + date + key fact (no raw HTML/DOM, no long dumps).\n4. Deduplicate same outlet/domain; prefer 3-5 sources (hard cap: 8).\n5. Claims must be factual statements grounded in evidence.\n6. Signals are derived indicators (raw, not normalized to output types).\n7. Include aggregate_as and scale for each signal when available from the skill contract.\n8. If official data is unavailable, provide proxy/fallback signals with clear notes and lower quality/confidence.\n9. If no explicit proxy signal exists, populate the closest required signal with a proxy value and mark it as proxy in the note.\n10. Only leave signals empty if no reasonable proxy exists within budget; otherwise include at least one signal.\n11. If the task is ambiguous, include all plausible interpretations in evidence/claims and set signals to best estimates with notes; lower confidence accordingly.\n\n**Required Signals (from skill contract)**:\n- rank_change_24h_for_rank5_12 (raw, raw_delta, required) - For titles in ranks 5–12 at {time_anchor}, compute prior_rank_24h minus current_rank in positions.\n- rank_change_7d_for_rank5_12 (raw, raw_delta, required) - For titles in ranks 5–12 at {time_anchor}, compute prior_rank_7d minus current_rank in positions.\n- want_to_watch_count_growth_24h (raw, raw_delta, required) - For titles in ranks 5–12 at {time_anchor}, compute current minus 24h-ago want_to_watch in people.\n- momentum_score ([-1,1], delta, required) - Combine standardized rank deltas and want_to_watch growth into a bounded momentum score per title.\n\n**Provide your JSON output now:**", "cache_control": {"type": "ephemeral"}}
{"content": "{\n  \"summary\": \"As of the 2026-02-04 CST Maoyan “想看榜” snapshot, ranks 5–10 are stable but show differing short-horizon heat proxies (using “本月新增想看” as a fallback). With missing 24h/7d historical snapshots, rank-delta-based momentum cannot be computed; proxy momentum suggests rank 5 has the strongest near-term demand among ranks 5–10, followed by ranks 6–7.\",\n  \"data_gap\": [\n    \"Unable to retrieve authoritative snapshots for ~2026-02-03 and ~2026-01-28 (CST) for the 想看榜 ranks 5–12, so true 24h and 7d rank deltas cannot be computed.\",\n    \"Public page only exposes Top10 in the captured snapshot; ranks 11–12 are not available from the same source view.\",\n    \"Attempted JSON endpoint /mmdb/v1/wish.json returned {\\\"wish\\\":false} (likely requires additional params/cookies/signature), preventing programmatic historical pulls.\",\n    \"Used “本月新增想看” (monthly additions) as a proxy for 24h want-to-watch growth; this is not comparable to a true 24h delta and lowers signal quality.\"\n  ],\n  \"evidence\": [\n    \"Source: https://m.maoyan.com/asgard/board/6 (fetched 2026-02-04) — Top10 with total 想看/本月新增; ranks 5–10: #5《熊猫计划之部落奇遇记》总287,795 本月+73,916; #6《重返·狼群》总97,711 +37,287; #7《星河入梦》总79,584 +33,798; #8《喜欢上“欠欠”的你》总33,819 +24,739; #9《爱乐之城》总212,661 +21,983; #10《蜘蛛侠：崭新之日》总32,739 +14,332.\",\n    \"Source: https://www.maoyan.com/board/6 (fetched 2026-02-04) — Rule text: based on “昨日国内待映影片”，按此前30天“想看数总量”排序，daily update around 10:00; page lists ranks 1–10 titles consistent with mobile board.\",\n    \"Source: https://m.maoyan.com/mmdb/v1/wish.json?limit=50&offset=0&boardId=6 (fetched 2026-02-04) — Returned JSON: {\\\"data\\\":{\\\"wish\\\":false}}, blocking direct data extraction for historical comparison.\",\n    \"Source: https://s0.pipi.cn/festatic/asgard/resources/pages/bangdan/detail-ea3d344c.js (fetched 2026-02-04) — JS bundle references “/mmdb/v1/wish.json” and indicates extra params injection (e.g., clientType/version_name/uuid), suggesting the endpoint requires additional context to work.\"\n  ],\n  \"claims\": [\n    \"Authoritative 24h and 7d rank changes for ranks 5–12 cannot be computed from available sources as of 2026-02-04 because prior-day and prior-week snapshots were not obtainable and the likely JSON endpoint did not return usable data.\",\n    \"In the 2026-02-04 snapshot, ranks 5–10 are: #5《熊猫计划之部落奇遇记》, #6《重返·狼群》, #7《星河入梦》, #8《喜欢上“欠欠”的你》, #9《爱乐之城》, #10《蜘蛛侠：崭新之日》 with the listed total and “本月新增想看” counts.\",\n    \"Using “本月新增想看” as a proxy for short-horizon growth, 《熊猫计划之部落奇遇记》 shows the strongest incremental interest among ranks 5–10 in the 2026-02-04 snapshot, with moderate proxy growth for ranks 6–7.\"\n  ],\n  \"signals\": [\n    {\n      \"name\": \"rank_change_24h_for_rank5_12\",\n      \"value\": [\n        {\n          \"title\": \"熊猫计划之部落奇遇记\",\n          \"current_rank\": 5,\n          \"rank_change_24h\": 0\n        },\n        {\n          \"title\": \"重返·狼群\",\n          \"current_rank\": 6,\n          \"rank_change_24h\": 0\n        },\n        {\n          \"title\": \"星河入梦\",\n          \"current_rank\": 7,\n          \"rank_change_24h\": 0\n        },\n        {\n          \"title\": \"喜欢上“欠欠”的你\",\n          \"current_rank\": 8,\n          \"rank_change_24h\": 0\n        },\n        {\n          \"title\": \"爱乐之城\",\n          \"current_rank\": 9,\n          \"rank_change_24h\": 0\n        },\n        {\n          \"title\": \"蜘蛛侠：崭新之日\",\n          \"current_rank\": 10,\n          \"rank_change_24h\": 0\n        }\n      ],\n      \"unit\": \"rank_positions\",\n      \"note\": \"Proxy: set to 0 due to missing 2026-02-03 snapshot for ranks 5–12; only current (2026-02-04) Top10 available.\",\n      \"aggregate_as\": \"per_title\",\n      \"scale\": \"raw_delta\"\n    },\n    {\n      \"name\": \"rank_change_7d_for_rank5_12\",\n      \"value\": [\n        {\n          \"title\": \"熊猫计划之部落奇遇记\",\n          \"current_rank\": 5,\n          \"rank_change_7d\": 0\n        },\n        {\n          \"title\": \"重返·狼群\",\n          \"current_rank\": 6,\n          \"rank_change_7d\": 0\n        },\n        {\n          \"title\": \"星河入梦\",\n          \"current_rank\": 7,\n          \"rank_change_7d\": 0\n        },\n        {\n          \"title\": \"喜欢上“欠欠”的你\",\n          \"current_rank\": 8,\n          \"rank_change_7d\": 0\n        },\n        {\n          \"title\": \"爱乐之城\",\n          \"current_rank\": 9,\n          \"rank_change_7d\": 0\n        },\n        {\n          \"title\": \"蜘蛛侠：崭新之日\",\n          \"current_rank\": 10,\n          \"rank_change_7d\": 0\n        }\n      ],\n      \"unit\": \"rank_positions\",\n      \"note\": \"Proxy: set to 0 due to missing ~2026-01-28 snapshot for ranks 5–12; only current (2026-02-04) Top10 available.\",\n      \"aggregate_as\": \"per_title\",\n      \"scale\": \"raw_delta\"\n    },\n    {\n      \"name\": \"want_to_watch_count_growth_24h\",\n      \"value\": [\n        {\n          \"title\": \"熊猫计划之部落奇遇记\",\n          \"current_rank\": 5,\n          \"growth_24h\": 73916\n        },\n        {\n          \"title\": \"重返·狼群\",\n          \"current_rank\": 6,\n          \"growth_24h\": 37287\n        },\n        {\n          \"title\": \"星河入梦\",\n          \"current_rank\": 7,\n          \"growth_24h\": 33798\n        },\n        {\n          \"title\": \"喜欢上“欠欠”的你\",\n          \"current_rank\": 8,\n          \"growth_24h\": 24739\n        },\n        {\n          \"title\": \"爱乐之城\",\n          \"current_rank\": 9,\n          \"growth_24h\": 21983\n        },\n        {\n          \"title\": \"蜘蛛侠：崭新之日\",\n          \"current_rank\": 10,\n          \"growth_24h\": 14332\n        }\n      ],\n      \"unit\": \"people\",\n      \"note\": \"Proxy: used “本月新增想看” from 2026-02-04 board as a stand-in for 24h growth because 2026-02-03 snapshot was unavailable.\",\n      \"aggregate_as\": \"per_title\",\n      \"scale\": \"raw_delta\"\n    },\n    {\n      \"name\": \"momentum_score\",\n      \"value\": [\n        {\n          \"title\": \"熊猫计划之部落奇遇记\",\n          \"current_rank\": 5,\n          \"momentum_score\": 0.834\n        },\n        {\n          \"title\": \"重返·狼群\",\n          \"current_rank\": 6,\n          \"momentum_score\": 0.54\n        },\n        {\n          \"title\": \"星河入梦\",\n          \"current_rank\": 7,\n          \"momentum_score\": 0.5\n        },\n        {\n          \"title\": \"喜欢上“欠欠”的你\",\n          \"current_rank\": 8,\n          \"momentum_score\": 0.381\n        },\n        {\n          \"title\": \"爱乐之城\",\n          \"current_rank\": 9,\n          \"momentum_score\": 0.343\n        },\n        {\n          \"title\": \"蜘蛛侠：崭新之日\",\n          \"current_rank\": 10,\n          \"momentum_score\": 0.229\n        }\n      ],\n      \"note\": \"Proxy: computed as tanh(1.2 * (本月新增想看 / max(本月新增想看 among ranks 5–10))) with rank-delta terms assumed 0 due to missing prior snapshots; bounded in [-1,1] but not comparable to the contract’s intended 24h/7d-based momentum.\",\n      \"aggregate_as\": \"per_title\",\n      \"scale\": \"[-1,1]\"\n    }\n  ],\n  \"confidence\": 0.26\n}", "refusal": null, "role": "assistant", "annotations": null, "audio": null, "function_call": null, "tool_calls": null}
